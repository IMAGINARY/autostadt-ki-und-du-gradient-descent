!function i(a,s,u){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,s,u)}return s[t].exports}for(var f="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=Array(e).fill(null).map(function(e){return{left:!1,right:!1,action:!1}}),this.statesModified=!1}var e,n,r;return e=t,(n=[{key:"modifyState",value:function(e,t,n){this.states[e][t]!==n&&(this.states[e][t]=n,this.statesModified=!0)}},{key:"getStates",value:function(){if(this.statesModified){var e=this.states;return this.states=this.states.map(function(e){return Object.assign({},e)}),this.statesModified=!1,e}return this.states}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=r},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){return function(){var e,t,n,r=p(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,i["default"]);var e,t,n,r=l(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"updateState",value:function(){var t=this;this.states=s(this.states),Array.from(navigator.getGamepads()).filter(function(e){return null!==e&&e.index<t.states.length}).forEach(function(e){t.modifyState(e.index,"left",e.axes[0]<-.5),t.modifyState(e.index,"right",.5<e.axes[0]),t.modifyState(e.index,"action",e.buttons[1].pressed||e.buttons[2].pressed)})}},{key:"getStates",value:function(){return this.updateState(),c(p(o.prototype),"getStates",this).call(this)}}])&&u(e.prototype,t),n&&u(e,n),o}();n.default=d},{"./controls":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(i){return function(){var e,t,n,r=c(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=c(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={ArrowLeft:{id:0,prop:"left"},ArrowRight:{id:0,prop:"right"},ArrowDown:{id:0,prop:"action"},KeyA:{id:1,prop:"left"},KeyD:{id:1,prop:"right"},KeyS:{id:1,prop:"action"}},o=Object.keys(f);function l(e){o.includes(e.code)&&e.preventDefault()}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,i["default"]);var t=u(o);function o(n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=t.call(this,n);function e(e){var t=f[e.code];t&&t.id<n&&r.modifyState(t.id,t.prop,"keydown"===e.type)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("keydown",l,!1),r}return o}();n.default=p},{"./controls":1}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){return function(){var e,t,n,r=f(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i["default"]);var e,t,n,r=c(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).element=document.createElement("div"),t.element.classList.add("screen-controls"),t.element.classList.add("with-".concat(e,"-controls"));for(var n=0;n<t.states.length;++n)t.element.appendChild(t.buildControl(n));return t.mousePressedButton=null,window.addEventListener("mouseup",function(){null!==t.mousePressedButton&&(t.modifyState(t.mousePressedButton.id,t.mousePressedButton.name,!1),t.mousePressedButton.element.classList.remove("active"),t.mousePressedButton=null)}),t}return e=o,(t=[{key:"buildControl",value:function(r){var o=this,e=document.createElement("div");e.classList.add("screen-control","screen-control-".concat(r));function t(t){var n=document.createElement("button");function e(e){0<e.targetTouches.length?(o.modifyState(r,t,!0),n.classList.add("active")):(o.modifyState(r,t,!1),n.classList.remove("active")),e.preventDefault()}return n.setAttribute("type","button"),n.classList.add(t),n.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchmove",e,{passive:!1}),n.addEventListener("touchend",e,{passive:!1}),n.addEventListener("touchcancel",e,{passive:!1}),n.addEventListener("mousedown",function(){o.modifyState(r,t,!0),n.classList.add("active"),o.mousePressedButton={id:r,name:t,element:n}}),n}return e.appendChild(t("left")),e.appendChild(t("action")),e.appendChild(t("right")),e}}])&&s(e.prototype,t),n&&s(e,n),o}();n.default=o},{"./controls":1}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("./game-mode"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){c(r,t,n,o,i,"next",e)}function i(e){c(r,t,n,o,i,"throw",e)}o(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){return function(){var e,t,n,r=s(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,u["default"]);var e,t,n,r,o,i,a=d(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return e=s,(t=[{key:"preLoadAssets",value:(i=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"handleEnterMode",value:(o=f(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=$(this.game.overlay),n=this.game.config.maxPlayers,this.selectedNumber=1,this.selectorItems={},$('<div class="text text-center numPlayers-title" />').text(IMAGINARY.i18n.t("choose-num-players")).appendTo(t),r=$('<div class="numPlayers-selector" />').addClass("numPlayers-selector-with-".concat(n)).appendTo(t),o=1;o<=n;o+=1)this.selectorItems[o]=$('<div class="item" />').addClass("item-".concat(o)).toggleClass("selected",this.selectedNumber===o).text(o).appendTo(r);case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,n){var t=this.game.config.maxPlayers,r=null;e.find(function(e,t){return-1===e.direction&&-1!==n[t].direction})?r=Math.max(1,this.selectedNumber-1):e.find(function(e,t){return 1===e.direction&&1!==n[t].direction})&&(r=Math.min(t,this.selectedNumber+1)),r&&r!==this.selectedNumber&&(this.selectorItems[this.selectedNumber].removeClass("selected"),this.selectorItems[r].addClass("selected"),this.selectedNumber=r),e.find(function(e,t){return e.action&&!n[t].action})&&(this.game.numPlayers=this.selectedNumber,this.triggerEvent("done"))}},{key:"draw",value:function(){}}])&&l(e.prototype,t),n&&l(e,n),s}();n.default=o},{"./game-mode":8}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=r(e("events")),m=e("@popperjs/core"),f=r(e("./game-mode")),h=r(e("./terrain")),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(e("./waves"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function y(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){u(r,t,n,o,i,"next",e)}function i(e){u(r,t,n,o,i,"throw",e)}o(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(i){return function(){var e,t,n,r=c(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=c(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==s(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=300,o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,f["default"]);var e,t,n,r,o,i,a,s,u=g(c);function c(t){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e=u.call(this,t);var n=Array(300).fill(null);return e.wavesPoints=function(e){return l.points(n,e,t.draw.width(),10)},e}return e=c,(t=[{key:"preLoadAssets",value:(s=y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/ship.svg");case 2:return this.shipSymbol=e.sent,this.shipSymbol.attr({overflow:"visible"}),e.next=6,this.game.loadSVGSymbol("assets/img/treasure-closed.svg");case 6:return this.treasureClosedSymbol=e.sent,this.treasureClosedSymbol.attr({overflow:"visible"}),e.next=10,this.game.loadSVGSymbol("assets/img/treasure-opened.svg");case 10:this.treasureOpenedSymbol=e.sent,this.treasureOpenedSymbol.attr({overflow:"visible"});case 12:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"handleEnterMode",value:(a=y(regeneratorRuntime.mark(function e(){var t,c,f,l,n,r,o,i,a,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game,c=t.draw,f=t.numPlayers,this.gameOver=!1,this.discardInputs=!1,l=c.group().addClass("play").addClass("draw").translate(0,200),this.players=Array(f).fill(null).map(function(e,t){var n=(t+1)/(f+1),r=l.group();r.addClass("player-".concat(t)).transform({translateX:n*c.width()});var o=r.use(p.shipSymbol).center(0,18),i=r.group(),a=i.group();a.line(0,-c.height(),0,-5),a.circle(10).center(0,0),a.transform({translateY:90});var s,u=i.rect(40,c.height()).move(-20,18);return i.clipWith(u),{id:t,group:r,boat:o,probe:a,x:n,flipX:!1,_probing:!1,_probeEventEmitter:new d.default,set probing(e){var t=this._probing&&!e;this._probing=e,t&&this._probeEventEmitter.emit("probe-off")},get probing(){return this._probing},probingDone:(s=y(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.probing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise(function(e){return t._probeEventEmitter.addListener("probe-off",e)});case 4:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})}}),this.water=l.group().polyline(this.wavesPoints(0)).addClass("water"),this.groundGroup=l.group(),n={marginWidth:.1},r=(0,h.default)(20,300,n),o=r.map(function(e,t){return[c.width()*(t/(r.length-1)),300*e]}),this.terrainHeights=r,this.treasureLocation=this.locateTreasure(),console.log("Treasure location:",this.treasureLocation),i=this.groundGroup.group(),a=i.group().addClass("treasure").transform({translateX:this.treasureLocation.x*c.width(),translateY:b+300*this.treasureLocation.y}),this.treasureClosed=a.use(this.treasureClosedSymbol),this.treasureOpened=a.use(this.treasureOpenedSymbol).hide(),this.ground=this.groundGroup.polyline(o).addClass("ground").translate(0,b).hide(),i.clipWith(this.groundGroup.use(this.ground)),this.groundClip=this.groundGroup.clip(),this.groundGroup.clipWith(this.groundClip),this.tangents=l.group().translate(0,b);case 22:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"handleExitMode",value:(i=y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"handleInputs",value:function(e,f,l){var p=this;if(!this.discardInputs){var t=this.game,n=(t.draw,t.numPlayers);e.slice(0,n).forEach(function(e,t){var n=f[t],r=e.action&&!n.action;p.gameOver&&r&&p.triggerEvent("done");var o=p.players[t];if(!o.probing&&!p.gameOver&&(o.x+=l*e.direction*2e-4,o.x=Math.min(Math.max(.1,o.x),.9),o.flipX=0===e.direction?o.flipX:-1===e.direction,r)){o.probing=!0;var i=p.terrainHeight(o.x),a=b+300*i,s=500/b*a,u=o.probe.animate(s,0,"now").transform({translateY:a}).after(function(){return p.addGroundClip(o.x)}).after(function(){return p.addTangent(o)}),c=(u.animate(s,500).transform({translateY:90}).after(function(){return o.probing=!1}),Math.abs(o.x-p.treasureLocation.x)<=.015);u.after(y(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&!p.gameOver)return console.log("Treasure found - GAME OVER!"),p.gameOver=!0,p.discardInputs=!0,t=p.uncoverGround(),e.next=7,Promise.all(p.players.map(function(e){return e.probingDone()}));e.next=12;break;case 7:return e.next=9,p.showGameOverSequence(o);case 9:return p.discardInputs=!1,e.next=12,t;case 12:case"end":return e.stop()}},e)}))),console.log("Player ".concat(t," is probing at:"),{x:o.x,y:i})}})}}},{key:"draw",value:function(e,a){var t=this.game,s=t.draw;t.numPlayers;this.water.plot(this.wavesPoints(a/2e4)),this.players.forEach(function(e,t){var n=e.x,r=10*l.height(n,a/2e4),o=10*l.slope(n,a/2e4),i={rotate:45*Math.atan2(o,s.width())/Math.PI};e.flipX&&(i.flip="x"),e.boat.transform(i),e.group.transform({translateX:n*s.width(),translateY:r})})}},{key:"terrainHeight",value:function(e){return this.terrainHeightExt(e).value}},{key:"terrainHeightExt",value:function(e){var t=(this.terrainHeights.length-1)*e,n=Math.floor(t),r=n===this.terrainHeights.length-1?n-1:n,o=r+1,i=this.terrainHeights[r],a=this.terrainHeights[o];return{value:i+(t-r)*(a-i),slope:(a-i)*(this.terrainHeights.length-1)}}},{key:"locateTreasure",value:function(){var e,t=(e=this.terrainHeights,[].reduce.call(e,function(e,t,n,r){return t>r[e]?n:e},0));return{x:t/(this.terrainHeights.length-1),y:this.terrainHeights[t]}}},{key:"addTangent",value:function(e){var t=this.game.draw.width(),n=this.terrainHeightExt(e.x),r=n.value,o=n.slope,i=180*Math.atan2(300*o,t)/Math.PI;this.tangents.line(.02*-t/2,0,.02*t/2,0).addClass("player-".concat(e.id)).transform({translateX:t*e.x,translateY:300*r,rotate:i})}},{key:"addGroundClip",value:function(e){var t=this.game.draw,n=t.width(),r=t.height(),o=this.groundClip.polygon([[-n,-r],[n,-r],[n,r],[-n,r]]).center(t.width()*e,0).transform({scaleX:.001});this.groundClip.add(o)}},{key:"uncoverGround",value:(o=y(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.game.draw,this.ground.show(),this.groundClip.circle(.06*t.width()).center(t.width()*this.treasureLocation.x,b+300*this.treasureLocation.y).dy(-.018*t.width()),this.addGroundClip(this.treasureLocation.x),n=function(t){return new Promise(function(e){t.animate(2e3).ease(function(e){return-(Math.sqrt(1-e*e)-1)}).transform({scaleX:1}).after(e)})},e.abrupt("return",Promise.all(this.groundClip.children().map(n)));case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"showGameOverSequence",value:(r=y(regeneratorRuntime.mark(function e(t){var n,r,o,i,a,s,u,c,f,l,p,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.game.draw,r=$(this.game.overlay),o=function(t){return new Promise(function(e){return setTimeout(e,t)})},i=IMAGINARY.i18n.t("treasure-announcement-begin")+(t.id+1)+IMAGINARY.i18n.t("treasure-announcement-end"),a=function(e){return e[Math.floor(Math.random()*(e.length-1))]}(IMAGINARY.i18n.t("treasures")),s=IMAGINARY.i18n.t("press-to-restart"),u=$("<div>").text(i),c=$("<div>").text(a).css("visibility","hidden"),f=$('<div class="blinking">').text(s).css("visibility","hidden"),l=$('<div class="ending-sequences-text player-'.concat(t.id,'" />')).append([u,c,$("<br>"),f]),p=100*this.treasureLocation.x,d=5e4/n.height(),h=$('<div class="ending-sequences-text-anchor">').css({left:"".concat(p,"%"),top:"".concat(d,"%"),width:"0px",height:"0px"}),e.next=16,o(0);case 16:return r.empty().append([h,l]),(0,m.createPopper)(h.get(0),l.get(0),{placement:"top"}),e.next=20,o(1e3);case 20:return c.css("visibility","visible"),this.treasureOpened.show(),this.treasureClosed.hide(),e.next=25,o(2e3);case 25:f.css("visibility","visible");case 26:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}])&&p(e.prototype,t),n&&p(e,n),c}();n.default=o},{"./game-mode":8,"./terrain":11,"./waves":12,"@popperjs/core":14,events:15}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=r(e("./game-mode")),c=r(e("./wavy-animation"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function l(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){f(r,t,n,o,i,"next",e)}function i(e){f(r,t,n,o,i,"throw",e)}o(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(i){return function(){var e,t,n,r=s(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,u["default"]);var e,t,n,r,o,i,a=h(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return e=s,(t=[{key:"preLoadAssets",value:(i=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/descent-logo.svg");case 2:this.logoSprite=e.sent,this.poly=this.logoSprite.findOne("#descent");case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"handleEnterMode",value:(o=l(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game.draw,(n=document.createElement("div")).classList.add("blinking","text","text-center","text-vcenter"),n.textContent=IMAGINARY.i18n.t("press-to-start"),this.game.overlay.append(n),t.use(this.logoSprite).size(1200,400).stroke({color:"#00368a",width:2}).fill("transparent").center(960,432).animate({duration:5e3}).stroke({color:"#34c6ff"}),this.wavyStep=(0,c.default)(this.logoSprite,{duration:3500}),this.animCounter=0;case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,n){e.find(function(e,t){return e.action&&!n[t].action})&&this.triggerEvent("done")}},{key:"draw",value:function(e,t){this.wavyStep(e,t)}}])&&p(e.prototype,t),n&&p(e,n),s}();n.default=o},{"./game-mode":8,"./wavy-animation":13}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,s=(r=e("events"))&&r.__esModule?r:{default:r};function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){u(r,t,n,o,i,"next",e)}function i(e){u(r,t,n,o,i,"throw",e)}o(void 0)})}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.events=new s.default}var e,n,r,o,i,a;return e=t,(n=[{key:"preLoadAssets",value:(a=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"handleEnterMode",value:(i=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"handleExitMode",value:(o=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"handleInputs",value:function(){}},{key:"draw",value:function(){}},{key:"triggerEvent",value:function(e){this.events.emit(e)}}])&&f(e.prototype,n),r&&f(e,r),t}();n.default=o},{events:15}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=r(e("./game-mode-play")),c=r(e("./game-mode-title")),f=r(e("./game-mode-numplayers")),l=r(e("./controls/gamepad")),p=r(e("./controls/screen")),d=r(e("./controls/keyboard"));function r(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function m(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){h(r,t,n,o,i,"next",e)}function i(e){h(r,t,n,o,i,"throw",e)}o(void 0)})}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e,this.config=t,this.inputs=this.createInputs(),this.inputsLast=this.createInputs(),this.gameLoop=null,this.isPaused=!1,this.modes={},this.currentMode=null,this.controls={},this.debugControlsPane=null,this.numPlayers=this.config.maxPlayers}var e,t,r,o,i,a,s;return e=n,(t=[{key:"init",value:(s=m(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),(t=document.createElement("div")).classList.add("game-view"),this.container.append(t),this.svgDoc=SVG().addTo(t),this.svgDoc.viewbox(0,0,1920,864).attr("preserveAspectRatio","xMinYMin meet"),this.draw=this.svgDoc.nested().size(1920,864),this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),this.container.append(this.overlay),this.config.useScreenControls&&(this.controls.screen=new p.default(this.config.maxPlayers),this.container.appendChild(this.controls.screen.element)),this.config.useGamepads&&(this.controls.gamepad=new l.default(this.config.maxPlayers)),this.config.useKeyboardControls&&(this.controls.keyboard=new d.default(this.config.maxPlayers)),this.config.debugControls&&(this.debugControlsPane=document.createElement("div"),this.debugControlsPane.classList.add("debug-pane"),this.debugControlsPane.classList.add("debug-pane-controls"),this.container.appendChild(this.debugControlsPane)),e.next=18,this.registerMode("title",new c.default(this));case 18:return e.next=20,this.registerMode("numplayers",new f.default(this));case 20:return e.next=22,this.registerMode("play",new u.default(this));case 22:if(this.config.continuousGame)return this.transition("play","done","play"),e.next=26,this.setMode("play");e.next=28;break;case 26:e.next=33;break;case 28:return this.transition("title","done",1<this.config.maxPlayers?"numplayers":"play"),this.transition("numplayers","done","play"),this.transition("play","done","title"),e.next=33,this.setMode("title");case 33:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"loadSVGSymbol",value:(a=m(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(1<i.length&&void 0!==i[1])||i[1],e.next=3,fetch(t);case 3:if((r=e.sent).status<200||300<=r.status)throw new Error("Server returned status ".concat(r.status," (").concat(r.statusText,") loading ").concat(t,"."));e.next=6;break;case 6:return e.t0=this.svgDoc.symbol(),e.next=9,r.text();case 9:return e.t1=e.sent,o=e.t0.svg.call(e.t0,e.t1),n&&o.find("style").forEach(function(e){return e.remove()}),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"initInputs",value:function(){this.inputs=this.createInputs()}},{key:"createInputs",value:function(){return Array(this.config.maxPlayers).fill(null).map(function(){return{direction:0,action:!1}})}},{key:"readInputs",value:function(){this.inputsLast=this.inputs;function n(e,t){return{direction:t.right?1:t.left?-1:e.direction,action:t.action||e.action}}var r=Object.values(this.controls).map(function(e){return e.getStates()});this.inputs=this.createInputs().map(function(e,t){return r.map(function(e){return e[t]}).reduce(n,e)}),this.debugControlsPane&&(this.debugControlsPane.textContent=this.inputs.map(function(e,t){return"C".concat(t,": d=").concat(e.direction," a=").concat(e.action?"T":"F")}).join("    "))}},{key:"run",value:function(){var n=this;if(!this.gameLoop){var r=0,o=0;this.gameLoop=function(e){if(!n.isPaused){n.readInputs();var t=(e-=o+=Math.max(0,e-o-r-125))-r;n.currentMode.handleInputs(n.inputs,n.inputsLast,t,e),n.currentMode.draw(t,e),r=e,window.requestAnimationFrame(n.gameLoop)}}}window.requestAnimationFrame(this.gameLoop)}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused&&(this.isPaused=!1,this.run())}},{key:"registerMode",value:(i=m(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.modes[t]=n,e.next=3,n.preLoadAssets();case 3:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"setMode",value:(o=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),this.currentMode)return e.next=4,this.currentMode.handleExitMode();e.next=4;break;case 4:if(void 0===this.modes[t])throw new Error("Can't change to unknown mode ".concat(t));e.next=6;break;case 6:return this.currentMode=this.modes[t],this.draw.clear(),this.overlay.innerHTML="",e.next=11,this.currentMode.handleEnterMode();case 11:this.resume();case 12:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"transition",value:function(e,t,n,r){var o=this,i=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==r?r:null;if(void 0===this.modes[e])throw new Error("Can't define transition from unknown game mode '".concat(e,"'"));if(i&&void 0===this.modes[i])throw new Error("Can't define transition to unknown game mode '".concat(i,"'"));this.modes[e].events.on(t,function(){if(o.currentMode!==o.modes[e])throw new Error("Mode ".concat(e," triggered the event ").concat(t," while not active. Something was not cleaned up?"));null!==i&&o.setMode(i),a&&"function"==typeof a&&a()})}}])&&y(e.prototype,t),r&&y(e,r),n}();n.default=o},{"./controls/gamepad":2,"./controls/keyboard":3,"./controls/screen":4,"./game-mode-numplayers":5,"./game-mode-play":6,"./game-mode-title":7}],10:[function(e,t,n){"use strict";var r,o=(r=e("./game"))&&r.__esModule?r:{default:r};function u(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function i(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){u(r,t,n,o,i,"next",e)}function i(e){u(r,t,n,o,i,"throw",e)}o(void 0)})}}var a,s={defaultLanguage:"en",useGamepads:!0,useScreenControls:!0,maxPlayers:2,continuousGame:!1,debugControls:!1};function c(){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200<=(n=e.sent).status&&n.status<300)return e.prev=4,e.next=7,n.json();e.next=13;break;case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(4),new Error("Error parsing config file: ".concat(e.t0.message));case 13:throw new Error("Server returned status ".concat(n.status," (").concat(n.statusText,") loading config file."));case 14:case"end":return e.stop()}},e,null,[[4,10]])}))).apply(this,arguments)}a=i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Object,e.t1={},e.t2=s,e.next=6,c("./config.json");case 6:return e.t3=e.sent,t=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3),e.next=10,IMAGINARY.i18n.init({queryStringVariable:"lang",translationsDirectory:"tr",defaultLanguage:t.defaultLanguage||"en"});case 10:return n=new o.default(document.querySelector(".main"),t),window.game=n,e.next=14,n.init();case 14:e.next=19;break;case 16:e.prev=16,e.t4=e.catch(0),console.error(e.t4);case 19:case"end":return e.stop()}},e,null,[[0,16]])})),function(){a.apply(this,arguments)}()},{"./game":9}],11:[function(e,t,n){"use strict";function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({},o,n),function(e,t){for(var n=e[0][0],r=e[e.length-1][0]-n,o=Array(t),i=0,a=0;a<o.length-1;++a){for(;a>=(t-1)*(e[i][0]-n)/r;)++i;var s=(n+a/(t-1)*r-e[i-1][0])/(e[i][0]-e[i-1][0]);o[a]=e[i-1][1]+(e[i][1]-e[i-1][1])*s}return o[o.length-1]=e[e.length-1][1],o}(function e(n,t){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(0===t)return n;var o=n.length;var i=n.map(function(e,t){return[[.75*e[0]+.25*n[(t+1)%o][0],.75*e[1]+.25*n[(t+1)%o][1]],[.25*e[0]+.75*n[(t+1)%o][0],.25*e[1]+.75*n[(t+1)%o][1]]]}).flat();r&&(--i.length,i[0]=n[0],i[i.length-1]=n[n.length-1]);return e(i,t-1,r)}(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.2,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.25,u=new Float32Array(e),o=[Math.floor(t*e),Math.floor(t+(1-2*t)*e)],i=[[0,Math.random()*n],[o[0],n],[o[0]+1+Math.floor(Math.random()*(o[1]-o[0])),1],[o[1],n],[e-1,Math.random()*n]];0<e&&(i.forEach(function(e){var t=c(e,2),n=t[0],r=t[1];return u[n]=r}),i.reduce(function(e,t){var n=c(e,2),r=n[0],o=n[1],i=c(t,2),a=i[0],s=i[1];return function e(t,n,r){if(0<t.length){var o=(s=t.length,u=n,c=r,{index:Math.floor(s*Math.random()),height:Math.max(u,c)*Math.random()}),i=o.index,a=o.height;t[i]=a,e(t.subarray(0,i),n,a),e(t.subarray(i+1,t.length),a,r)}var s,u,c;return t}(u.subarray(r+1,a),o,s),[a,s]}));return r=Math.max(0,Math.min(r,1)),new Array(u.length).fill(null).map(function(e,t){return[(t+r*(Math.random()-.5))/(u.length-1),u[t]]})}(e,n.marginWidth,n.marginHeight,n.jitter),n.smoothing),t)};var o={marginWidth:.1,marginHeight:.1,jitter:.25,smoothing:6}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.height=s,n.slope=function(e,t){return t=t*r%r,(100*Math.cos(100*e+t)+50*Math.cos(50*e-t)+30*Math.cos(30*e+2*t)+10*Math.cos(10*e-3*t))/4},n.heights=function(n,r){return n.forEach(function(e,t){return n[t]=s(t/(n.length-1),r)}),n},n.points=f,n.animatedSVG=function(e,t,n,r,o,i){var a=Array(t).fill(null),s=Array(n).fill(null).map(function(e,t){return Array.from(f(a,t/(n-1),r,o))}),u=e.polyline(s[0]),c=s.map(function(e){return u.plot(e).attr("points")}).join(";\n").replace(/;[[:space:]]*;]/g,";");return u.element("animate").attr({attributeName:"points",dur:"".concat(i,"ms"),repeatCount:"indefinite",values:c}),u};var r=12*Math.PI;function s(e,t){return t=t*r%r,(Math.sin(100*e+t)+Math.sin(50*e-t)+Math.sin(30*e+2*t)+Math.sin(10*e-3*t))/4}function f(r,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return r.forEach(function(e,t){var n=t/(r.length-1);r[t]=[i*n,a*s(n,o)]}),r}},{}],13:[function(e,t,n){"use strict";function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},{xAmplitude:50,duration:5e3,cycles:3},t),n=e.find("polygon"),r=n.map(function(e){return e.plot()}),a=Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.flat().map(function(e){return u(e,2)[1]}))),s=0;return function(e,t){if(!(s>i.duration)){s+=e;var o=Math.min(s,i.duration)/i.duration;n.forEach(function(e,t){e.plot(r[t].map(function(e){var t=u(e,2),n=t[0],r=t[1];return[n+Math.sin((r/a+o*i.cycles)*Math.PI*2)*i.xAmplitude*(1-Math.pow(o,2)),r]}))})}}}},{}],14:[function(e,t,u){(function(w){"use strict";function _(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function E(e){if("[object Window]"===e.toString())return e;var t=e.ownerDocument;return t?t.defaultView:window}function f(e){var t=E(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function j(e){return e instanceof E(e).Element||e instanceof Element}function l(e){return e instanceof E(e).HTMLElement||e instanceof HTMLElement}function c(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){return(j(e)?e.ownerDocument:e.document).documentElement}function p(e){return _(k(e)).left+f(e).scrollLeft}function x(e){return E(e).getComputedStyle(e)}function d(e){var t=x(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function O(e,t,n){void 0===n&&(n=!1);var r,o,i=k(t),a=_(e),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return n||("body"===c(t)&&!d(i)||(s=(r=t)!==E(r)&&l(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:f(r)),l(t)?((u=_(t)).x+=t.clientLeft,u.y+=t.clientTop):i&&(u.x=p(i))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function ee(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function s(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||e.host||k(e)}function P(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(c(t))?t.ownerDocument.body:l(t)&&d(t)?t:e(s(t))}(e),r="body"===c(n),o=E(n),i=r?[o].concat(o.visualViewport||[],d(n)?n:[]):n,a=t.concat(i);return r?a:a.concat(P(s(i)))}function r(e){return l(e)&&"fixed"!==x(e).position?e.offsetParent:null}function te(e){for(var t=E(e),n=r(e);n&&0<=["table","td","th"].indexOf(c(n));)n=r(n);return(!n||"body"!==c(n)||"static"!==x(n).position)&&n||t}Object.defineProperty(u,"__esModule",{value:!0});var ne="top",re="bottom",oe="right",ie="left",N="auto",q=[ne,re,oe,ie],ae="start",h="end",L="clippingParents",R="viewport",A="popper",C="reference",G=q.reduce(function(e,t){return e.concat([t+"-"+ae,t+"-"+h])},[]),H=[].concat(q,[N]).reduce(function(e,t){return e.concat([t,t+"-"+ae,t+"-"+h])},[]),M=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function S(e){var r=new Map,o=new Set,t=[];return e.forEach(function(e){r.set(e.name,e)}),e.forEach(function(e){o.has(e.name)||!function n(e){o.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!o.has(e)){var t=r.get(e);t&&n(t)}}),t.push(e)}(e)}),t}function T(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}var D='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',I='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',B=["name","enabled","phase","fn","effect","requires","options"];function se(e){return e.split("-")[0]}var W="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",o={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function e(e){void 0===e&&(e={});var t=e.defaultModifiers,g=void 0===t?[]:t,n=e.defaultOptions,b=void 0===n?o:n;return function(p,d,t){void 0===t&&(t=b);var n,r,h={placement:"bottom",orderedModifiers:[],options:Object.assign({},o,{},b),modifiersData:{},elements:{reference:p,popper:d},attributes:{},styles:{}},m=[],f=!1,y={state:h,setOptions:function(e){v(),h.options=Object.assign({},b,{},h.options,{},e),h.scrollParents={reference:j(p)?P(p):p.contextElement?P(p.contextElement):[],popper:P(d)};var t,n,r,o,i,a,s,u,c=(r=[].concat(g,h.options.modifiers),o=r.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,{},t,{options:Object.assign({},n.options,{},t.options),data:Object.assign({},n.data,{},t.data)}):t,e},{}),t=Object.keys(o).map(function(e){return o[e]}),n=S(t),M.reduce(function(e,t){return e.concat(n.filter(function(e){return e.phase===t}))},[]));if(h.orderedModifiers=c.filter(function(e){return e.enabled}),"production"!==w.env.NODE_ENV){var f=(a=[].concat(c,h.options.modifiers),s=function(e){return e.name},u=new Set,a.filter(function(e){var t=s(e);if(!u.has(t))return u.add(t),!0}));if((i=f).forEach(function(n){Object.keys(n).forEach(function(e){switch(e){case"name":"string"!=typeof n.name&&console.error(T(D,String(n.name),'"name"','"string"','"'+String(n.name)+'"'));break;case"enabled":"boolean"!=typeof n.enabled&&console.error(T(D,n.name,'"enabled"','"boolean"','"'+String(n.enabled)+'"'));case"phase":M.indexOf(n.phase)<0&&console.error(T(D,n.name,'"phase"',"either "+M.join(", "),'"'+String(n.phase)+'"'));break;case"fn":"function"!=typeof n.fn&&console.error(T(D,n.name,'"fn"','"function"','"'+String(n.fn)+'"'));break;case"effect":"function"!=typeof n.effect&&console.error(T(D,n.name,'"effect"','"function"','"'+String(n.fn)+'"'));break;case"requires":Array.isArray(n.requires)||console.error(T(D,n.name,'"requires"','"array"','"'+String(n.requires)+'"'));break;case"requiresIfExists":Array.isArray(n.requiresIfExists)||console.error(T(D,n.name,'"requiresIfExists"','"array"','"'+String(n.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+n.name+'" modifier, valid properties are '+B.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+e+'" was provided.')}n.requires&&n.requires.forEach(function(t){null==i.find(function(e){return e.name===t})&&console.error(T(I,String(n.name),t,t))})})}),se(h.options.placement)===N)h.orderedModifiers.find(function(e){return"flip"===e.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var l=x(d);[l.marginTop,l.marginRight,l.marginBottom,l.marginLeft].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return h.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:h,name:t,instance:y,options:r});m.push(i||function(){})}}),y.update()},forceUpdate:function(){if(!f){var e=h.elements,t=e.reference,n=e.popper;if(V(t,n)){h.rects={reference:O(t,te(n),"fixed"===h.options.strategy),popper:ee(n)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(e){return h.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0,o=0;o<h.orderedModifiers.length;o++){if("production"!==w.env.NODE_ENV&&100<(r+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==h.reset){var i=h.orderedModifiers[o],a=i.fn,s=i.options,u=void 0===s?{}:s,c=i.name;"function"==typeof a&&(h=a({state:h,options:u,name:c,instance:y})||h)}else h.reset=!1,o=-1}}else"production"!==w.env.NODE_ENV&&console.error(W)}},update:(n=function(){return new Promise(function(e){y.forceUpdate(),e(h)})},function(){return r=r||new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(n())})})}),destroy:function(){v(),f=!0}};if(!V(p,d))return"production"!==w.env.NODE_ENV&&console.error(W),y;function v(){m.forEach(function(e){return e()}),m=[]}return y.setOptions(t).then(function(e){!f&&t.onFirstUpdate&&t.onFirstUpdate(e)}),y}}var m={passive:!0};function ue(e){return e.split("-")[1]}function ce(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?se(o):null,a=o?ue(o):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(i){case ne:t={x:s,y:n.y-r.height};break;case re:t={x:s,y:n.y+n.height};break;case oe:t={x:n.x+n.width,y:u};break;case ie:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=i?ce(i):null;if(null!=c){var f="y"===c?"height":"width";switch(a){case ae:t[c]=Math.floor(t[c])-Math.floor(n[f]/2-r[f]/2);break;case h:t[c]=Math.floor(t[c])+Math.ceil(n[f]/2-r[f]/2)}}return t}var $={top:"auto",right:"auto",bottom:"auto",left:"auto"};function y(e){var t,n,r,o,i,a=e.popper,s=e.popperRect,u=e.placement,c=e.offsets,f=e.position,l=e.gpuAcceleration,p=e.adaptive,d=(r=(n=c).x,o=n.y,i=window.devicePixelRatio||1,{x:Math.round(r*i)/i||0,y:Math.round(o*i)/i||0}),h=d.x,m=d.y,y=c.hasOwnProperty("x"),v=c.hasOwnProperty("y"),g=ie,b=ne,w=window;if(p){var x=te(a);x===E(a)&&(x=k(a)),u===ne&&(b=re,m-=x.clientHeight-s.height,m*=l?1:-1),u===ie&&(g=oe,h-=x.clientWidth-s.width,h*=l?1:-1)}var O,P=Object.assign({position:f},p&&$);return l?Object.assign({},P,((O={})[b]=v?"0":"",O[g]=y?"0":"",O.transform=(w.devicePixelRatio||1)<2?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",O)):Object.assign({},P,((t={})[b]=v?m+"px":"",t[g]=y?h+"px":"",t.transform="",t))}var t={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}var n={start:"end",end:"start"};function X(e){return e.replace(/start|end/g,function(e){return n[e]})}function v(e){return parseFloat(e)||0}function g(e){var t,n,r=E(e),o={top:v((n=l(t=e)?x(t):{}).borderTopWidth),right:v(n.borderRightWidth),bottom:v(n.borderBottomWidth),left:v(n.borderLeftWidth)},i="html"===c(e),a=p(e),s=e.clientWidth+o.right,u=e.clientHeight+o.bottom;return i&&50<r.innerHeight-e.clientHeight&&(u=r.innerHeight-o.bottom),{top:i?0:e.clientTop,right:e.clientLeft>o.left?o.right:i?r.innerWidth-s-a:e.offsetWidth-s,bottom:i?r.innerHeight-u:e.offsetHeight-u,left:i?a:e.clientLeft}}function b(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z(e,t){return t===R?U((a=E(e),s=a.visualViewport,u=a.innerWidth,c=a.innerHeight,s&&/iPhone|iPod|iPad/.test(navigator.platform)&&(u=s.width,c=s.height),{width:u,height:c,x:0,y:0})):l(t)?_(t):U((n=k(e),r=E(n),o=f(n),(i=O(k(n),r)).height=Math.max(i.height,r.innerHeight),i.width=Math.max(i.width,r.innerWidth),i.x=-o.scrollLeft,i.y=-o.scrollTop,i));var n,r,o,i,a,s,u,c}function K(o,e,t){var n,r,i,a="clippingParents"===e?(r=P(n=o),j(i=0<=["absolute","fixed"].indexOf(x(n).position)&&l(n)?te(n):n)?r.filter(function(e){return j(e)&&b(e,i)}):[]):[].concat(e),s=[].concat(a,[t]),u=s[0],c=s.reduce(function(e,t){var n=z(o,t),r=g(l(t)?t:k(o));return e.top=Math.max(n.top+r.top,e.top),e.right=Math.min(n.right-r.right,e.right),e.bottom=Math.min(n.bottom-r.bottom,e.bottom),e.left=Math.max(n.left+r.left,e.left),e},z(o,u));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function fe(){return{top:0,right:0,bottom:0,left:0}}function J(e){return Object.assign({},fe(),{},e)}function Q(n,e){return e.reduce(function(e,t){return e[t]=n,e},{})}function le(e,t){void 0===t&&(t={});var n=t.placement,r=void 0===n?e.placement:n,o=t.boundary,i=void 0===o?L:o,a=t.rootBoundary,s=void 0===a?R:a,u=t.elementContext,c=void 0===u?A:u,f=t.altBoundary,l=void 0!==f&&f,p=t.padding,d=void 0===p?0:p,h=J("number"!=typeof d?d:Q(d,q)),m=c===A?C:A,y=e.elements.reference,v=e.rects.popper,g=e.elements[l?m:c],b=K(j(g)?g:g.contextElement||k(e.elements.popper),i,s),w=_(y),x=Y({reference:w,element:v,strategy:"absolute",placement:r}),O=U(Object.assign({},v,{},x)),P=c===A?O:w,E={top:b.top-P.top+h.top,bottom:P.bottom-b.bottom+h.bottom,left:b.left-P.left+h.left,right:P.right-b.right+h.right},M=e.modifiersData.offset;if(c===A&&M){var S=M[r];Object.keys(E).forEach(function(e){var t=0<=[oe,re].indexOf(e)?1:-1,n=0<=[ne,re].indexOf(e)?"y":"x";E[e]+=S[n]*t})}return E}function pe(e,t,n){return Math.max(e,Math.min(t,n))}function Z(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function de(t){return[ne,oe,re,ie].some(function(e){return 0<=t[e]})}var i=[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,u=E(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,m)}),s&&u.addEventListener("resize",n.update,m),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,m)}),s&&u.removeEventListener("resize",n.update,m)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i;if("production"!==w.env.NODE_ENV){var s=x(t.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(e){return 0<=s.indexOf(e)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:se(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,{},y(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},y(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},n=o.attributes[e]||{},r=o.elements[e];l(r)&&c(r)&&(Object.assign(r.style,t),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var o=e.state,i={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,i.popper),o.elements.arrow&&Object.assign(o.elements.arrow.style,i.arrow),function(){Object.keys(o.elements).forEach(function(e){var t=o.elements[e],n=o.attributes[e]||{},r=Object.keys(o.styles.hasOwnProperty(e)?o.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});l(t)&&c(t)&&(Object.assign(t.style,r),Object.keys(n).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var f=e.state,t=e.options,n=e.name,r=t.offset,l=void 0===r?[0,0]:r,o=H.reduce(function(e,t){var n,r,o,i,a,s,u,c;return e[t]=(n=t,r=f.rects,o=l,i=se(n),a=0<=[ie,ne].indexOf(i)?-1:1,s="function"==typeof o?o(Object.assign({},r,{placement:n})):o,u=s[0],c=s[1],u=u||0,c=(c||0)*a,0<=[ie,oe].indexOf(i)?{x:c,y:u}:{x:u,y:c}),e},{}),i=o[f.placement],a=i.x,s=i.y;null!=f.modifiersData.popperOffsets&&(f.modifiersData.popperOffsets.x+=a,f.modifiersData.popperOffsets.y+=s),f.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var o=t.mainAxis,i=void 0===o||o,a=t.altAxis,s=void 0===a||a,u=t.fallbackPlacements,c=t.padding,f=t.boundary,l=t.rootBoundary,p=t.altBoundary,d=t.flipVariations,h=void 0===d||d,m=t.allowedAutoPlacements,y=n.options.placement,v=se(y),g=u||(v===y||!h?[F(y)]:function(e){if(se(e)===N)return[];var t=F(e);return[X(e),t,X(t)]}(y)),b=[y].concat(g).reduce(function(e,t){return e.concat(se(t)===N?function(n,e){void 0===e&&(e={});var t=e.placement,r=e.boundary,o=e.rootBoundary,i=e.padding,a=e.flipVariations,s=e.allowedAutoPlacements,u=void 0===s?H:s,c=ue(t),f=(c?a?G:G.filter(function(e){return ue(e)===c}):q).filter(function(e){return 0<=u.indexOf(e)}).reduce(function(e,t){return e[t]=le(n,{placement:t,boundary:r,rootBoundary:o,padding:i})[se(t)],e},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(n,{placement:t,boundary:f,rootBoundary:l,padding:c,flipVariations:h,allowedAutoPlacements:m}):t)},[]),w=n.rects.reference,x=n.rects.popper,O=new Map,P=!0,E=b[0],M=0;M<b.length;M++){var S=b[M],_=se(S),j=ue(S)===ae,k=0<=[ne,re].indexOf(_),L=k?"width":"height",R=le(n,{placement:S,boundary:f,rootBoundary:l,altBoundary:p,padding:c}),A=k?j?oe:ie:j?re:ne;w[L]>x[L]&&(A=F(A));var C=F(A),T=[];if(i&&T.push(R[_]<=0),s&&T.push(R[A]<=0,R[C]<=0),T.every(function(e){return e})){E=S,P=!1;break}O.set(S,T)}if(P)for(var D=function(n){var e=b.find(function(e){var t=O.get(e);if(t)return t.slice(0,n).every(function(e){return e})});if(e)return E=e,"break"},I=h?3:1;0<I;I--){if("break"===D(I))break}n.placement!==E&&(n.modifiersData[r]._skip=!0,n.placement=E,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,l=n.padding,p=n.tether,d=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,y=le(t,{boundary:u,rootBoundary:c,padding:l,altBoundary:f}),v=se(t.placement),g=ue(t.placement),b=!g,w=ce(v),x="x"===w?"y":"x",O=t.modifiersData.popperOffsets,P=t.rects.reference,E=t.rects.popper,M="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,S={x:0,y:0};if(O){if(i){var _="y"===w?ne:ie,j="y"===w?re:oe,k="y"===w?"height":"width",L=O[w],R=O[w]+y[_],A=O[w]-y[j],C=d?-E[k]/2:0,T=g===ae?P[k]:E[k],D=g===ae?-E[k]:-P[k],I=t.elements.arrow,N=d&&I?ee(I):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:fe(),G=q[_],H=q[j],B=pe(0,P[k],N[k]),W=b?P[k]/2-C-B-G-M:T-B-G-M,V=b?-P[k]/2+C+B+H+M:D+B+H+M,Y=t.elements.arrow&&te(t.elements.arrow),$=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,F=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,X=O[w]+W-F-$,U=O[w]+V-F,z=pe(d?Math.min(R,X):R,L,d?Math.max(A,U):A);O[w]=z,S[w]=z-L}if(s){var K="x"===w?ne:ie,J="x"===w?re:oe,Q=O[x],Z=pe(Q+y[K],Q,Q-y[J]);O[x]=Z,S[x]=Z-Q}t.modifiersData[r]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=se(n.placement),s=ce(a),u=0<=[ie,oe].indexOf(a)?"height":"width";if(o&&i){var c=n.modifiersData[r+"#persistent"].padding,f=ee(o),l="y"===s?ne:ie,p="y"===s?re:oe,d=n.rects.reference[u]+n.rects.reference[s]-i[s]-n.rects.popper[u],h=i[s]-n.rects.reference[s],m=te(o),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,v=d/2-h/2,g=c[l],b=y-f[u]-c[p],w=y/2-f[u]/2+v,x=pe(g,w,b),O=s;n.modifiersData[r]=((t={})[O]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,o=n.element,i=void 0===o?"[data-popper-arrow]":o,a=n.padding,s=void 0===a?0:a;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||("production"!==w.env.NODE_ENV&&(l(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),b(t.elements.popper,i)?(t.elements.arrow=i,t.modifiersData[r+"#persistent"]={padding:J("number"!=typeof s?s:Q(s,q))}):"production"!==w.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "))))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=le(t,{elementContext:"reference"}),s=le(t,{altBoundary:!0}),u=Z(a,r),c=Z(s,o,i),f=de(u),l=de(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:l},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":l})}}],a=e({defaultModifiers:i});u.createPopper=a,u.defaultModifiers=i,u.detectOverflow=le,u.popperGenerator=e}).call(this,e("_process"))},{_process:16}],15:[function(e,t,n){var u=Object.create||function(e){function t(){}return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=u(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var o,s=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),o=0===c.x}catch(e){o=!1}function f(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]):(i=e._events=u(null),e._eventsCount=0),a){if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(o=f(e))&&0<o&&a.length>o){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else a=i[t]=n,++e._eventsCount;return e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(p,r);return o.listener=n,r.wrapFn=o}function h(e,t,n){var r=e._events;if(!r)return[];var o=r[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):y(o,o.length):[]}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}o?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):r.defaultMaxListeners=s,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return f(this)},r.prototype.emit=function(e,t,n,r){var o,i,a,s,u,c,f="error"===e;if(c=this._events)f=f&&null==c.error;else if(!f)return!1;if(f){if(1<arguments.length&&(o=t),o instanceof Error)throw o;var l=new Error('Unhandled "error" event. ('+o+")");throw l.context=o,l}if(!(i=c[e]))return!1;var p="function"==typeof i;switch(a=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=y(e,r),i=0;i<r;++i)o[i].call(n)}(i,p,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=y(e,o),a=0;a<o;++a)i[a].call(n,r)}(i,p,this,t);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=y(e,i),s=0;s<i;++s)a[s].call(n,r,o)}(i,p,this,t,n);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,s=y(e,a),u=0;u<a;++u)s[u].call(n,r,o,i)}(i,p,this,t,n,r);break;default:for(s=new Array(a-1),u=1;u<a;u++)s[u-1]=arguments[u];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=y(e,o),a=0;a<o;++a)i[a].apply(n,r)}(i,p,this,s)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return l(this,e,t,!1)},r.prototype.prependListener=function(e,t){return l(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=u(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=u(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=u(null):delete n[e]),this;if(0===arguments.length){var o,i=a(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=u(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},r.prototype.listenerCount=m,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],16:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,f=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?f=c.concat(f):p=-1,f.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=f.length;t;){for(c=f,f=[];++p<t;)c&&c[p].run();p=-1,t=f.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new m(e,t)),1!==f.length||l||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[10]);
//# sourceMappingURL=bundle.min.js.map
