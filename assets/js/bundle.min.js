!function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,s)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=Array(e).fill(null).map(function(e){return{left:!1,right:!1,action:!1}}),this.statesModified=!1}var e,n,r;return e=t,(n=[{key:"modifyState",value:function(e,t,n){this.states[e][t]!==n&&(this.states[e][t]=n,this.statesModified=!0)}},{key:"getStates",value:function(){if(this.statesModified){var e=this.states;return this.states=this.states.map(function(e){return Object.assign({},e)}),this.statesModified=!1,e}return this.states}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=r},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){return function(){var e,t,n,r=p(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=p(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,i["default"]);var e,t,n,r=f(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"updateState",value:function(){var t=this;this.states=u(this.states),Array.from(navigator.getGamepads()).filter(function(e){return null!==e&&e.index<t.states.length}).forEach(function(e){t.modifyState(e.index,"left",e.axes[0]<-.5),t.modifyState(e.index,"right",.5<e.axes[0]),t.modifyState(e.index,"action",e.buttons[1].pressed||e.buttons[2].pressed)})}},{key:"getStates",value:function(){return this.updateState(),c(p(o.prototype),"getStates",this).call(this)}}])&&s(e.prototype,t),n&&s(e,n),o}();n.default=d},{"./controls":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(i){return function(){var e,t,n,r=c(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=c(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l={ArrowLeft:{id:0,prop:"left"},ArrowRight:{id:0,prop:"right"},ArrowDown:{id:0,prop:"action"},Space:{id:0,prop:"action"},KeyA:{id:1,prop:"left"},KeyD:{id:1,prop:"right"},KeyS:{id:1,prop:"action"}},o=Object.keys(l);function f(e){o.includes(e.code)&&e.preventDefault()}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,i["default"]);var t=s(o);function o(n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=t.call(this,n);function e(e){var t=l[e.code];t&&t.id<n&&r.modifyState(t.id,t.prop,"keydown"===e.type)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("keydown",f,!1),r}return o}();n.default=p},{"./controls":1}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){return function(){var e,t,n,r=l(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,i["default"]);var e,t,n,r=c(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).element=document.createElement("div"),t.element.classList.add("screen-controls"),t.element.classList.add("with-".concat(e,"-controls"));for(var n=0;n<t.states.length;++n)t.element.appendChild(t.buildControl(n));return t.mousePressedButton=null,window.addEventListener("mouseup",function(){null!==t.mousePressedButton&&(t.modifyState(t.mousePressedButton.id,t.mousePressedButton.name,!1),t.mousePressedButton.element.classList.remove("active"),t.mousePressedButton=null)}),t}return e=o,(t=[{key:"buildControl",value:function(r){var o=this,e=document.createElement("div");e.classList.add("screen-control","screen-control-".concat(r));function t(t){var n=document.createElement("button");function e(e){0<e.targetTouches.length?(o.modifyState(r,t,!0),n.classList.add("active")):(o.modifyState(r,t,!1),n.classList.remove("active")),e.preventDefault()}return n.setAttribute("type","button"),n.classList.add(t),n.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchmove",e,{passive:!1}),n.addEventListener("touchend",e,{passive:!1}),n.addEventListener("touchcancel",e,{passive:!1}),n.addEventListener("mousedown",function(){o.modifyState(r,t,!0),n.classList.add("active"),o.mousePressedButton={id:r,name:t,element:n}}),n}return e.appendChild(t("left")),e.appendChild(t("action")),e.appendChild(t("right")),e}}])&&u(e.prototype,t),n&&u(e,n),o}();n.default=o},{"./controls":1}],5:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.fullScreenButton=document.createElement("div"),this.fullScreenButton.classList.add("fullscreen-button"),this.expandIcon=document.createElement("i"),this.expandIcon.classList.add("fas","fa-sm","fa-expand"),this.fullScreenButton.appendChild(this.expandIcon),this.compressIcon=document.createElement("i"),this.compressIcon.classList.add("fas","fa-compress"),this.fullScreenButton.appendChild(this.compressIcon),window.addEventListener("fullscreenchange",function(){return e.fullScreenChangeHandler()}),this.fullScreenChangeHandler(),this.fullScreenButton.onpointerup=function(){return e.toggleFullScreen()},this.element=this.fullScreenButton}var e,n,r;return e=t,(n=[{key:"fullScreenChangeHandler",value:function(){this.expandIcon.style.display=document.fullscreenElement?"none":"block",this.compressIcon.style.display=document.fullscreenElement?"block":"none"}},{key:"toggleFullScreen",value:function(){document.fullscreenEnabled?document.fullscreenElement?document.exitFullscreen().catch(function(e){return console.log(e)}):document.documentElement.requestFullscreen().catch(function(e){return console.log(e)}):console.log("Your browser cannot use fullscreen right now")}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=r},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./game-mode-menu"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){return function(){var e,t,n,r=f(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=["none"],o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["default"]);var e,t,n,r=l(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"getMenuTitle",value:function(){return IMAGINARY.i18n.t("choose-bot-type")}},{key:"getMenuItems",value:function(){var t=IMAGINARY.i18n.t("bot-types");return p.map(function(e){return t[e]})}},{key:"processSelection",value:function(e){s(f(o.prototype),"processSelection",this).call(this,e),this.game.botType=p[e]}}])&&u(e.prototype,t),n&&u(e,n),o}();n.default=o},{"./game-mode-menu":7}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("./game-mode"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function c(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(i){return function(){var e,t,n,r=d(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=d(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,u["default"]);var e,t,n,r,o,i=p(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return e=a,(t=[{key:"handleEnterMode",value:(o=c(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=$(this.game.overlay),n=this.getMenuItems(),this.selectedIndex=0,$('<div class="text text-center menu-title" />').text(this.getMenuTitle()).appendTo(t),r=$('<div class="menu-selector" />').addClass("menu-selector-with-".concat(n.length)).appendTo(t),o=0;o<n.length;++o)$('<div class="item" />').addClass("item-".concat(o)).toggleClass("selected",this.selectedIndex===o).text(n[o]).appendTo(r);this.$selectorItems=r.children();case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,t){for(var n,r=this,o=0;o<e.length;++o){var i=[e[o],t[o]],a=i[0],u=i[1];if(0!==a.direction&&a.direction*u.direction<=0&&(this.$selectorItems.eq(this.selectedIndex).removeClass("selected"),this.selectedIndex=(n=this.selectedIndex+a.direction,Math.max(0,Math.min(n,r.$selectorItems.length-1))),this.$selectorItems.eq(this.selectedIndex).addClass("selected")),a.action&&!u.action){this.processSelection(this.selectedIndex),this.triggerEvent("done");break}}}},{key:"getMenuTitle",value:function(){return"Menu"}},{key:"getMenuItems",value:function(){return["One","Two"]}},{key:"processSelection",value:function(){}}])&&l(e.prototype,t),n&&l(e,n),a}();n.default=o},{"./game-mode":11}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./game-mode-menu"))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){return function(){var e,t,n,r=f(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["default"]);var e,t,n,r=l(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e))._menuItems=Array.from({length:t.game.config.maxPlayers},function(e,t){return String(t+1)}),t}return e=o,(t=[{key:"getMenuTitle",value:function(){return IMAGINARY.i18n.t("choose-num-players")}},{key:"getMenuItems",value:function(){return this._menuItems}},{key:"processSelection",value:function(e){s(f(o.prototype),"processSelection",this).call(this,e),this.game.numPlayers=e+1}}])&&u(e.prototype,t),n&&u(e,n),o}();n.default=o},{"./game-mode-menu":7}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var m=r(e("events")),y=e("@popperjs/core"),h=r(e("./game-mode")),g=r(e("./terrain")),v=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(e("./waves"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function b(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(i){return function(){var e,t,n,r=c(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=c(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==u(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=300,o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(d,h["default"]);var e,t,n,r,o,i,a,u,s,c,l,f,p=P(d);function d(t){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),e=p.call(this,t);var n=Array(300).fill(null);return e.wavesPoints=function(e){return v.points(n,e,t.draw.width(),10)},e}return e=d,(t=[{key:"preLoadAssets",value:(f=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/ship.svg");case 2:return this.shipSymbol=e.sent,this.shipSymbol.attr({overflow:"visible"}),e.next=6,this.game.loadSVGSymbol("assets/img/treasure-closed.svg");case 6:return this.treasureClosedSymbol=e.sent,this.treasureClosedSymbol.attr({overflow:"visible"}),e.next=10,this.game.loadSVGSymbol("assets/img/treasure-opened.svg");case 10:this.treasureOpenedSymbol=e.sent,this.treasureOpenedSymbol.attr({overflow:"visible"});case 12:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"handleEnterMode",value:(l=b(regeneratorRuntime.mark(function e(){var t,l,f,p,n,r,o,d,i,a,u,s,c,h,v=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game,l=t.draw,f=t.config,p=t.numPlayers,this.isGameOver=!1,this.discardInputs=!1,this.remainingTime=1e3*f.maxTime,this.$overlay=$('<div class="play" />').appendTo(this.game.overlay),n=$('<div class="game-stats"/>').appendTo(this.$overlay),r=$('<div class="remaining-time"/>').text(IMAGINARY.i18n.t("remaining-time")).appendTo(n),f.maxTime===Number.POSITIVE_INFINITY&&r.hide(),o=$('<div class="remaining-probes"/>').text(IMAGINARY.i18n.t("remaining-probes")).appendTo(n),this.$remainingTime=$('<span class="counter"/>').appendTo(r),this.$remainingProbes=$("<span />").appendTo(o),f.maxProbes===Number.POSITIVE_INFINITY&&o.hide(),this.$endingSequenceContainer=$("<div />").appendTo(this.$overlay),d=l.group().addClass("play").addClass("draw").translate(0,200),this.players=Array(p).fill(null).map(function(e,t){var n=(t+1)/(p+1),r=d.group();r.addClass("player-".concat(t)).transform({translateX:n*l.width()});var o,i=r.use(v.shipSymbol).center(0,18),a=r.group().group(),s=a.line(0,18,0,85),c=a.circle(10).center(0,90),u=$('<span class="counter player-'.concat(t,'"/>')).appendTo(v.$remainingProbes);return i.front(),{id:t,group:r,boat:i,probe:a,doProbe:function(e){var t=this;this.probing=!0,this.remainingProbes=Math.max(0,this.remainingProbes-1);var n=O+300*e,r=500/O*n,o=c.animate(r,0,"now").cy(n),i=s.animate(r,0,"now").plot(0,18,0,n-5),a=0<this.remainingProbes?90:28,u=o.animate(r,500).cy(a).after(function(){return t.probing=!1});i.animate(r,500).plot(0,18,0,a-5);return{down:new Promise(function(e){return o.after(e)}),up:new Promise(function(e){return u.after(e)})}},x:n,flipX:!1,_probing:!1,_probeEventEmitter:new m.default,set probing(e){var t=this._probing&&!e;this._probing=e,t&&this._probeEventEmitter.emit("probe-off")},get probing(){return this._probing},probingDone:(o=b(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.probing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise(function(e){return t._probeEventEmitter.addListener("probe-off",e)});case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),remainingProbes:f.maxProbes,$remainingProbes:u}}),this.water=d.group().polyline(this.wavesPoints(0)).addClass("water"),this.groundGroup=d.group(),i=function(){var e={marginWidth:.1};return(0,g.default)(20,300,e)},a=game.map?game.map:i(),u=a.map(function(e,t){return[l.width()*(t/(a.length-1)),300*e]}).concat([[2*l.width(),0],[2*l.width(),l.height()],[-l.width(),l.height()],[-l.width(),0]]),this.terrainHeights=a,this.treasureLocation=this.locateTreasure(),console.log("Map:",a),console.log("Treasure location:",this.treasureLocation),s=this.groundGroup.group(),c=s.group().addClass("treasure").transform({translateX:this.treasureLocation.x*l.width(),translateY:O+300*this.treasureLocation.y}),this.treasureClosed=c.use(this.treasureClosedSymbol),this.treasureOpened=c.use(this.treasureOpenedSymbol).hide(),this.ground=this.groundGroup.polygon(u).fill("black").addClass("ground").translate(0,O),h=this.groundGroup.group(),this.groundCoverLeft=h.rect(l.width(),l.height()).addClass("ground-cover").move(l.width()*(this.treasureLocation.x-1),-150),this.groundCoverRight=h.rect(l.width(),l.height()).addClass("ground-cover").move(l.width()*this.treasureLocation.x,-150),f.showSeaFloor&&h.hide(),this.groundGroup.back(),this.tangentGroup=d.group().translate(0,O);case 35:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"handleExitMode",value:(c=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{key:"handleInputs",value:function(e,c,l){var f=this,t=this.game,p=(t.draw,t.config,t.numPlayers);if(!this.discardInputs){if(!this.isGameOver)if(this.remainingTime=Math.max(0,this.remainingTime-l),0===this.remainingTime)console.log("Time is up - GAME OVER!"),this.gameOver(b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.showLoseSequenceTimeIsUp());case 1:case"end":return e.stop()}},e)})));else if(0===this.players.reduce(function(e,t){return e+t.remainingProbes},0)){this.players.reduce(function(e,t){return e||t.probing},!1)||(console.log("No probes left - GAME OVER!"),this.gameOver(b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.showLoseSequenceNoProbesLeft());case 1:case"end":return e.stop()}},e)}))))}e.forEach(function(e,t){var n=c[t],r=e.action&&!n.action;if(f.isGameOver&&r&&f.triggerEvent("done"),!(p<=t)){var o=f.players[t];if(!o.probing&&!f.isGameOver&&(o.x+=l*e.direction*2e-4,o.x=Math.min(Math.max(.1,o.x),.9),o.flipX=0===e.direction?o.flipX:-1===e.direction,r&&0<o.remainingProbes)){var i=f.terrainHeight(o.x),a=o.doProbe(i),u=a.down;a.up;u.then(function(){return f.addTangent(o)});var s=Math.abs(o.x-f.treasureLocation.x)<=.015;u.then(b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&!f.isGameOver)return console.log("Treasure found - GAME OVER!"),e.next=4,f.gameOver(b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.showWinSequence(o));case 1:case"end":return e.stop()}},e)})));e.next=4;break;case 4:case"end":return e.stop()}},e)}))),console.log("Player ".concat(t," is probing at:"),{x:o.x,y:i})}}})}}},{key:"draw",value:function(e,u){var s=this,t=this.game,c=t.draw;t.numPlayers;this.water.plot(this.wavesPoints(u/2e4));function l(e,t,n){return String(e).padStart(t,n)}var n;this.players.forEach(function(e,t){var n,r=e.x,o=10*v.height(r,u/2e4),i=10*v.slope(r,u/2e4),a={rotate:45*Math.atan2(i,c.width())/Math.PI};e.flipX&&(a.flip="x"),e.boat.transform(a),e.group.transform({translateX:r*c.width(),translateY:o}),e.$remainingProbes.text((n=e.remainingProbes,l(n,String(s.game.config.maxProbes).length," "))),0===e.remainingProbes&&e.$remainingProbes.addClass("blinking")}),this.$remainingTime.text((n=Math.ceil(this.remainingTime/1e3),l(n,String(s.game.config.maxTime).length," "))),0===this.remainingTime&&this.$remainingTime.addClass("blinking")}},{key:"terrainHeight",value:function(e){return this.terrainHeightExt(e).value}},{key:"terrainHeightExt",value:function(e){var t=(this.terrainHeights.length-1)*e,n=Math.floor(t),r=n===this.terrainHeights.length-1?n-1:n,o=r+1,i=this.terrainHeights[r],a=this.terrainHeights[o];return{value:i+(t-r)*(a-i),slope:(a-i)*(this.terrainHeights.length-1)}}},{key:"locateTreasure",value:function(){var e,t=(e=this.terrainHeights,[].reduce.call(e,function(e,t,n,r){return t>r[e]?n:e},0));return{x:t/(this.terrainHeights.length-1),y:this.terrainHeights[t]}}},{key:"addTangent",value:function(e){this.tangentGroup.find(".player-".concat(e.id)).each(function(){var e,t,n=(e=this.opacity(),(t=.25)+(e-t)*.9);this.animate(500).opacity(n)});var t=this.game.draw.width(),n=this.terrainHeightExt(e.x),r=n.value,o=n.slope,i=180*Math.atan2(300*o,t)/Math.PI;this.tangentGroup.line(.02*-t/2,0,.02*t/2,0).addClass("player-".concat(e.id)).transform({translateX:t*e.x,translateY:300*r,rotate:i})}},{key:"gameOver",value:(s=b(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isGameOver=!0,this.discardInputs=!0,n=this.uncoverGround(),e.next=5,Promise.all(this.players.map(function(e){return e.probingDone()}));case 5:return e.next=7,t();case 7:return this.discardInputs=!1,e.next=10,n;case 10:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"uncoverGround",value:(u=b(regeneratorRuntime.mark(function e(){var n,t,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0<i.length&&void 0!==i[0]?i[0]:2e3,t=this.game.draw,0!==n){e.next=7;break}this.groundCoverLeft.dx(-t.width()),this.groundCoverRight.dx(t.width()),e.next=11;break;case 7:return r=function(e,t){return e.animate(n).dx(t)},o=function(t,n){return new Promise(function(e){return r(t,n).after(e)})},e.abrupt("return",Promise.all([o(this.groundCoverLeft,-t.width()),o(this.groundCoverRight,t.width())]));case 11:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"showWinSequence",value:(a=b(regeneratorRuntime.mark(function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=IMAGINARY.i18n.t("win-announcement-begin")+(t.id+1)+IMAGINARY.i18n.t("win-announcement-end"),r=function(e){return e[Math.floor(Math.random()*(e.length-1))]}(IMAGINARY.i18n.t("treasures")),o=function(){i.treasureOpened.show(),i.treasureClosed.hide()},e.next=6,this.showGameOverSequence(n,r,o,["player-".concat(t.id)]);case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"showLoseSequenceTimeIsUp",value:(i=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showGameOverSequence(IMAGINARY.i18n.t("time-is-up"),IMAGINARY.i18n.t("game-over"));case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"showLoseSequenceNoProbesLeft",value:(o=b(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showGameOverSequence(IMAGINARY.i18n.t("no-probes-left"),IMAGINARY.i18n.t("game-over"));case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"showGameOverSequence",value:(r=b(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,l,f,p,d,h,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<v.length&&void 0!==v[2]?v[2]:Function.prototype,o=3<v.length&&void 0!==v[3]?v[3]:[],i=this.game.draw,a=function(t){return new Promise(function(e){return setTimeout(e,t)})},u=IMAGINARY.i18n.t("press-to-restart"),s=$("<div>").text(t),c=$("<div>").text(n).css("visibility","hidden"),l=$('<div class="blinking">').text(u).css("visibility","hidden"),f=$('<div class="ending-sequences-text" />').addClass(o).append([s,c,$("<br>"),l]),p=100*this.treasureLocation.x,d=5e4/i.height(),h=$('<div class="ending-sequences-text-anchor" />').css({left:"".concat(p,"%"),top:"".concat(d,"%"),width:"0px",height:"0px"}),e.next=14,a(0);case 14:return this.$endingSequenceContainer.empty().append([h,f]),(0,y.createPopper)(h.get(0),f.get(0),{placement:"top"}),e.next=18,a(1e3);case 18:return c.css("visibility","visible"),r(),e.next=22,a(2e3);case 22:l.css("visibility","visible");case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})}])&&w(e.prototype,t),n&&w(e,n),d}();n.default=o},{"./game-mode":11,"./terrain":14,"./waves":15,"@popperjs/core":17,events:19}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=r(e("./game-mode")),c=r(e("./wavy-animation"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function f(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){l(r,t,n,o,i,"next",e)}function i(e){l(r,t,n,o,i,"throw",e)}o(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(i){return function(){var e,t,n,r=u(i);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return;if(Reflect.construct.sham)return;if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}()){var o=u(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return t=this,!(n=e)||"object"!==a(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):n}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,s["default"]);var e,t,n,r,o,i,a=h(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(t=[{key:"preLoadAssets",value:(i=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/descent-logo.svg");case 2:this.logoSprite=e.sent,this.poly=this.logoSprite.findOne("#descent");case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"handleEnterMode",value:(o=f(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game.draw,(n=document.createElement("div")).classList.add("title-press-to-start"),n.textContent=IMAGINARY.i18n.t("press-to-start"),this.game.overlay.append(n),r="#34c6ff",o=t.use(this.logoSprite).size(1200,400).stroke({color:"#00368a",width:2}).fill("transparent").center(960,432),this.logoSprite.findOne("#gradient").stroke("none").fill(r).opacity(0).animate({duration:7e3}).opacity(1),o.animate({duration:5e3}).stroke({color:r}),this.wavyStep=(0,c.default)(this.logoSprite,{duration:3500}),this.animCounter=0;case 13:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.wavyStep(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,n){e.find(function(e,t){return e.action&&!n[t].action})&&this.triggerEvent("done")}},{key:"draw",value:function(e,t){this.wavyStep(e,t)}}])&&p(e.prototype,t),n&&p(e,n),u}();n.default=o},{"./game-mode":11,"./wavy-animation":16}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("events"))&&r.__esModule?r:{default:r};function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function c(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.events=new u.default}var e,n,r,o,i,a;return e=t,(n=[{key:"preLoadAssets",value:(a=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"handleEnterMode",value:(i=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"handleExitMode",value:(o=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"handleInputs",value:function(){}},{key:"draw",value:function(){}},{key:"triggerEvent",value:function(e){this.events.emit(e)}}])&&l(e.prototype,n),r&&l(e,r),t}();n.default=o},{events:19}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("@wessberg/pointer-events");var c=r(e("./game-mode-play")),l=r(e("./game-mode-title")),f=r(e("./game-mode-numplayers")),p=r(e("./controls/gamepad")),d=r(e("./controls/screen")),h=r(e("./controls/keyboard")),v=r(e("./full-screen-toggle")),m=r(e("./game-mode-bottype"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function y(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e,this.config=t,this.inputs=this.createInputs(),this.inputsLast=this.createInputs(),this.gameLoop=null,this.isPaused=!1,this.modes={},this.currentMode=null,this.controls={},this.debugControlsPane=null,this.botType=this.config.botType,this.numPlayers=this.config.maxPlayers,this.map=t.map}var e,t,r,o,i,a,u,s;return e=n,(t=[{key:"init",value:(s=y(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).classList.add("min-aspect-ratio"),this.container.append(t),(n=document.createElement("div")).classList.add("game-view"),t.append(n),this.svgDoc=SVG().addTo(n),this.svgDoc.viewbox(0,0,1920,864).attr("preserveAspectRatio","xMinYMin meet"),this.draw=this.svgDoc.nested().size(1920,864),this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),t.append(this.overlay),this.config.useScreenControls&&(this.controls.screen=new d.default(this.config.maxPlayers),t.appendChild(this.controls.screen.element)),this.config.useGamepads&&(this.controls.gamepad=new p.default(this.config.maxPlayers)),this.config.fullScreenButton&&(this.fullScreenToggle=new v.default,t.appendChild(this.fullScreenToggle.element)),this.config.useKeyboardControls&&(this.controls.keyboard=new h.default(this.config.maxPlayers)),this.config.debugControls&&(this.debugControlsPane=document.createElement("div"),this.debugControlsPane.classList.add("debug-pane"),this.debugControlsPane.classList.add("debug-pane-controls"),t.appendChild(this.debugControlsPane)),e.next=20,this.registerMode("title",new l.default(this));case 20:return e.next=22,this.registerMode("bottype",new m.default(this));case 22:return e.next=24,this.registerMode("numplayers",new f.default(this));case 24:return e.next=26,this.registerMode("play",new c.default(this));case 26:if(this.config.continuousGame)return this.transition("play","done","play"),e.next=30,this.setMode("play");e.next=32;break;case 30:e.next=42;break;case 32:return r=null===this.config.botType,o=1<this.config.maxPlayers,i=o?"numplayers":"play",a=r?"bottype":i,this.transition("title","done",a),this.transition("bottype","done",i),this.transition("numplayers","done","play"),this.transition("play","done","title"),e.next=42,this.setMode("title");case 42:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"loadSVGSymbol",value:(u=y(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(1<i.length&&void 0!==i[1])||i[1],e.next=3,fetch(t);case 3:if((r=e.sent).status<200||300<=r.status)throw new Error("Server returned status ".concat(r.status," (").concat(r.statusText,") loading ").concat(t,"."));e.next=6;break;case 6:return e.t0=this.svgDoc.symbol(),e.next=9,r.text();case 9:return e.t1=e.sent,o=e.t0.svg.call(e.t0,e.t1),n&&o.find("style").forEach(function(e){return e.remove()}),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"initInputs",value:function(){this.inputs=this.createInputs()}},{key:"createInputs",value:function(){return Array(this.config.maxPlayers).fill(null).map(function(){return{direction:0,action:!1}})}},{key:"readInputs",value:function(){this.inputsLast=this.inputs;function n(e,t){return{direction:t.right?1:t.left?-1:e.direction,action:t.action||e.action}}var r=Object.values(this.controls).map(function(e){return e.getStates()});this.inputs=this.createInputs().map(function(e,t){return r.map(function(e){return e[t]}).reduce(n,e)}),this.debugControlsPane&&(this.debugControlsPane.textContent=this.inputs.map(function(e,t){return"C".concat(t,": d=").concat(e.direction," a=").concat(e.action?"T":"F")}).join("    "))}},{key:"run",value:function(){var n=this;if(!this.gameLoop){var r=0,o=0;this.gameLoop=function(e){if(!n.isPaused){n.readInputs();var t=(e-=o+=Math.max(0,e-o-r-125))-r;n.currentMode.handleInputs(n.inputs,n.inputsLast,t,e),n.currentMode.draw(t,e),r=e,window.requestAnimationFrame(n.gameLoop)}}}window.requestAnimationFrame(this.gameLoop)}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused&&(this.isPaused=!1,this.run())}},{key:"registerMode",value:(a=y(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.modes[t]=n,e.next=3,n.preLoadAssets();case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"setMode",value:(i=y(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),this.currentMode)return e.next=4,this.currentMode.handleExitMode();e.next=4;break;case 4:if(void 0===this.modes[t])throw new Error("Can't change to unknown mode ".concat(t));e.next=6;break;case 6:return this.currentMode=this.modes[t],this.draw.clear(),this.overlay.innerHTML="",e.next=11,this.currentMode.handleEnterMode();case 11:this.resume();case 12:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"transition",value:function(e,t,n,r){var o=this,i=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==r?r:null;if(void 0===this.modes[e])throw new Error("Can't define transition from unknown game mode '".concat(e,"'"));if(i&&void 0===this.modes[i])throw new Error("Can't define transition to unknown game mode '".concat(i,"'"));this.modes[e].events.on(t,function(){if(o.currentMode!==o.modes[e])throw new Error("Mode ".concat(e," triggered the event ").concat(t," while not active. Something was not cleaned up?"));null!==i&&o.setMode(i),a&&"function"==typeof a&&a()})}},{key:"setMap",value:function(e){this.map=!Array.isArray(e)||e.length<2?null:e}},{key:"showSeaFloor",value:(o=y(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(0<n.length&&void 0!==n[0])||n[0],!this.currentMode||"function"!=typeof this.currentMode.uncoverGround){e.next=9;break}if(t)return e.next=5,this.currentMode.uncoverGround();e.next=7;break;case 5:e.next=9;break;case 7:return e.next=9,this.currentMode.uncoverGround(0);case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}])&&g(e.prototype,t),r&&g(e,r),n}();n.default=o},{"./controls/gamepad":2,"./controls/keyboard":3,"./controls/screen":4,"./full-screen-toggle":5,"./game-mode-bottype":6,"./game-mode-numplayers":8,"./game-mode-play":9,"./game-mode-title":10,"@wessberg/pointer-events":18}],13:[function(e,t,n){"use strict";var r,a=(r=e("./game"))&&r.__esModule?r:{default:r};function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}var i,u={defaultLanguage:"en",useGamepads:!0,useScreenControls:!0,useKeyboardControls:!0,botType:null,maxPlayers:2,maxTime:Number.POSITIVE_INFINITY,maxProbes:Number.POSITIVE_INFINITY,continuousGame:!1,showSeaFloor:!1,fullScreenButton:!0,debugControls:!1,map:null};function c(){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200<=(n=e.sent).status&&n.status<300)return e.prev=4,e.next=7,n.json();e.next=17;break;case 7:return r=e.sent,o=function(e){return(t=String(e).toLowerCase()).charAt(0).toUpperCase()+t.slice(1);var t},Number(o(r.maxTime))===Number.POSITIVE_INFINITY&&(r.maxTime=Number.POSITIVE_INFINITY),Number(o(r.maxProbes))===Number.POSITIVE_INFINITY&&(r.maxProbes=Number.POSITIVE_INFINITY),e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Error parsing config file: ".concat(e.t0.message));case 17:throw new Error("Server returned status ".concat(n.status," (").concat(n.statusText,") loading config file."));case 18:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}function f(){var e=new URLSearchParams(window.location.search);if(e.has("config")){var t=e.get("config");if(/\.\./.test(t))throw new Error("Custom config path ".concat(t," must not contain references to parent directories and will be ignored."));return new URL(t,window.location.href)}return null}i=o(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new URL("./config.json",window.location.href),n=f(),r=n||t,e.t0=Object,e.t1={},e.t2=u,e.next=9,c(r.href);case 9:return e.t3=e.sent,o=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3),e.next=13,IMAGINARY.i18n.init({queryStringVariable:"lang",translationsDirectory:"tr",defaultLanguage:o.defaultLanguage||"en"});case 13:return i=new a.default(document.querySelector(".main"),o),window.game=i,e.next=17,i.init();case 17:e.next=22;break;case 19:e.prev=19,e.t4=e.catch(0),console.error(e.t4);case 22:case"end":return e.stop()}},e,null,[[0,19]])})),function(){i.apply(this,arguments)}()},{"./game":12}],14:[function(e,t,n){"use strict";function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({},o,n),function(e,t){for(var n=e[0][0],r=e[e.length-1][0]-n,o=Array(t),i=0,a=0;a<o.length-1;++a){for(;a>=(t-1)*(e[i][0]-n)/r;)++i;var u=(n+a/(t-1)*r-e[i-1][0])/(e[i][0]-e[i-1][0]);o[a]=e[i-1][1]+(e[i][1]-e[i-1][1])*u}return o[o.length-1]=e[e.length-1][1],o}(function e(n,t){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(0===t)return n;var o=n.length;var i=n.map(function(e,t){return[[.75*e[0]+.25*n[(t+1)%o][0],.75*e[1]+.25*n[(t+1)%o][1]],[.25*e[0]+.75*n[(t+1)%o][0],.25*e[1]+.75*n[(t+1)%o][1]]]}).flat();r&&(--i.length,i[0]=n[0],i[i.length-1]=n[n.length-1]);return e(i,t-1,r)}(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.2,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.25,s=new Float32Array(e),o=[Math.floor(t*e),Math.floor(t+(1-2*t)*e)],i=[[0,Math.random()*n],[o[0],n],[o[0]+1+Math.floor(Math.random()*(o[1]-o[0])),1],[o[1],n],[e-1,Math.random()*n]];0<e&&(i.forEach(function(e){var t=c(e,2),n=t[0],r=t[1];return s[n]=r}),i.reduce(function(e,t){var n=c(e,2),r=n[0],o=n[1],i=c(t,2),a=i[0],u=i[1];return function e(t,n,r){if(0<t.length){var o=(u=t.length,s=n,c=r,{index:Math.floor(u*Math.random()),height:Math.max(s,c)*Math.random()}),i=o.index,a=o.height;t[i]=a,e(t.subarray(0,i),n,a),e(t.subarray(i+1,t.length),a,r)}var u,s,c;return t}(s.subarray(r+1,a),o,u),[a,u]}));return r=Math.max(0,Math.min(r,1)),new Array(s.length).fill(null).map(function(e,t){return[(t+r*(Math.random()-.5))/(s.length-1),s[t]]})}(e,n.marginWidth,n.marginHeight,n.jitter),n.smoothing),t).map(function(e){return t=e,n=5,r=Math.pow(10,n),Math.round(t*r)/r;var t,n,r})};var o={marginWidth:.1,marginHeight:.1,jitter:.25,smoothing:6}},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.height=u,n.slope=function(e,t){return t=t*r%r,(100*Math.cos(100*e+t)+50*Math.cos(50*e-t)+30*Math.cos(30*e+2*t)+10*Math.cos(10*e-3*t))/4},n.heights=function(n,r){return n.forEach(function(e,t){return n[t]=u(t/(n.length-1),r)}),n},n.points=l,n.animatedSVG=function(e,t,n,r,o,i){var a=Array(t).fill(null),u=Array(n).fill(null).map(function(e,t){return Array.from(l(a,t/(n-1),r,o))}),s=e.polyline(u[0]),c=u.map(function(e){return s.plot(e).attr("points")}).join(";\n").replace(/;[[:space:]]*;]/g,";");return s.element("animate").attr({attributeName:"points",dur:"".concat(i,"ms"),repeatCount:"indefinite",values:c}),s};var r=12*Math.PI;function u(e,t){return t=t*r%r,(Math.sin(100*e+t)+Math.sin(50*e-t)+Math.sin(30*e+2*t)+Math.sin(10*e-3*t))/4}function l(r,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return r.forEach(function(e,t){var n=t/(r.length-1);r[t]=[i*n,a*u(n,o)]}),r}},{}],16:[function(e,t,n){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},{xAmplitude:50,duration:5e3,cycles:3},t),n=e.find("polygon"),r=n.map(function(e){return e.plot()}),a=Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.flat().map(function(e){return s(e,2)[1]}))),u=0;return function(e,t){if(!(u>i.duration)){u+=e;var o=Math.min(u,i.duration)/i.duration;n.forEach(function(e,t){e.plot(r[t].map(function(e){var t=s(e,2),n=t[0],r=t[1];return[n+Math.sin((r/a+o*i.cycles)*Math.PI*2)*i.xAmplitude*(1-Math.pow(o,2)),r]}))})}}}},{}],17:[function(e,t,s){(function(w){"use strict";function M(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function E(e){if("[object Window]"===e.toString())return e;var t=e.ownerDocument;return t?t.defaultView:window}function l(e){var t=E(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function k(e){return e instanceof E(e).Element||e instanceof Element}function f(e){return e instanceof E(e).HTMLElement||e instanceof HTMLElement}function c(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){return(k(e)?e.ownerDocument:e.document).documentElement}function p(e){return M(_(e)).left+l(e).scrollLeft}function x(e){return E(e).getComputedStyle(e)}function d(e){var t=x(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function P(e,t,n){void 0===n&&(n=!1);var r,o,i=_(t),a=M(e),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return n||("body"===c(t)&&!d(i)||(u=(r=t)!==E(r)&&f(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:l(r)),f(t)?((s=M(t)).x+=t.clientLeft,s.y+=t.clientTop):i&&(s.x=p(i))),{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}function ee(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function u(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||e.host||_(e)}function O(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(c(t))?t.ownerDocument.body:f(t)&&d(t)?t:e(u(t))}(e),r="body"===c(n),o=E(n),i=r?[o].concat(o.visualViewport||[],d(n)?n:[]):n,a=t.concat(i);return r?a:a.concat(O(u(i)))}function r(e){return f(e)&&"fixed"!==x(e).position?e.offsetParent:null}function te(e){for(var t=E(e),n=r(e);n&&0<=["table","td","th"].indexOf(c(n));)n=r(n);return(!n||"body"!==c(n)||"static"!==x(n).position)&&n||t}Object.defineProperty(s,"__esModule",{value:!0});var ne="top",re="bottom",oe="right",ie="left",D="auto",N=[ne,re,oe,ie],ae="start",h="end",j="clippingParents",I="viewport",R="popper",L="reference",X=N.reduce(function(e,t){return e.concat([t+"-"+ae,t+"-"+h])},[]),G=[].concat(N,[D]).reduce(function(e,t){return e.concat([t,t+"-"+ae,t+"-"+h])},[]),S=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function T(e){var r=new Map,o=new Set,t=[];return e.forEach(function(e){r.set(e.name,e)}),e.forEach(function(e){o.has(e.name)||!function n(e){o.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!o.has(e)){var t=r.get(e);t&&n(t)}}),t.push(e)}(e)}),t}function A(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}var C='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Y='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',q=["name","enabled","phase","fn","effect","requires","options"];function ue(e){return e.split("-")[0]}var H="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",o={placement:"bottom",modifiers:[],strategy:"absolute"};function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function e(e){void 0===e&&(e={});var t=e.defaultModifiers,g=void 0===t?[]:t,n=e.defaultOptions,b=void 0===n?o:n;return function(p,d,t){void 0===t&&(t=b);var n,r,h={placement:"bottom",orderedModifiers:[],options:Object.assign({},o,{},b),modifiersData:{},elements:{reference:p,popper:d},attributes:{},styles:{}},v=[],l=!1,m={state:h,setOptions:function(e){y(),h.options=Object.assign({},b,{},h.options,{},e),h.scrollParents={reference:k(p)?O(p):p.contextElement?O(p.contextElement):[],popper:O(d)};var t,n,r,o,i,a,u,s,c=(r=[].concat(g,h.options.modifiers),o=r.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,{},t,{options:Object.assign({},n.options,{},t.options),data:Object.assign({},n.data,{},t.data)}):t,e},{}),t=Object.keys(o).map(function(e){return o[e]}),n=T(t),S.reduce(function(e,t){return e.concat(n.filter(function(e){return e.phase===t}))},[]));if(h.orderedModifiers=c.filter(function(e){return e.enabled}),"production"!==w.env.NODE_ENV){var l=(a=[].concat(c,h.options.modifiers),u=function(e){return e.name},s=new Set,a.filter(function(e){var t=u(e);if(!s.has(t))return s.add(t),!0}));if((i=l).forEach(function(n){Object.keys(n).forEach(function(e){switch(e){case"name":"string"!=typeof n.name&&console.error(A(C,String(n.name),'"name"','"string"','"'+String(n.name)+'"'));break;case"enabled":"boolean"!=typeof n.enabled&&console.error(A(C,n.name,'"enabled"','"boolean"','"'+String(n.enabled)+'"'));case"phase":S.indexOf(n.phase)<0&&console.error(A(C,n.name,'"phase"',"either "+S.join(", "),'"'+String(n.phase)+'"'));break;case"fn":"function"!=typeof n.fn&&console.error(A(C,n.name,'"fn"','"function"','"'+String(n.fn)+'"'));break;case"effect":"function"!=typeof n.effect&&console.error(A(C,n.name,'"effect"','"function"','"'+String(n.fn)+'"'));break;case"requires":Array.isArray(n.requires)||console.error(A(C,n.name,'"requires"','"array"','"'+String(n.requires)+'"'));break;case"requiresIfExists":Array.isArray(n.requiresIfExists)||console.error(A(C,n.name,'"requiresIfExists"','"array"','"'+String(n.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+n.name+'" modifier, valid properties are '+q.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+e+'" was provided.')}n.requires&&n.requires.forEach(function(t){null==i.find(function(e){return e.name===t})&&console.error(A(Y,String(n.name),t,t))})})}),ue(h.options.placement)===D)h.orderedModifiers.find(function(e){return"flip"===e.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var f=x(d);[f.marginTop,f.marginRight,f.marginBottom,f.marginLeft].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return h.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:h,name:t,instance:m,options:r});v.push(i||function(){})}}),m.update()},forceUpdate:function(){if(!l){var e=h.elements,t=e.reference,n=e.popper;if(B(t,n)){h.rects={reference:P(t,te(n),"fixed"===h.options.strategy),popper:ee(n)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(e){return h.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0,o=0;o<h.orderedModifiers.length;o++){if("production"!==w.env.NODE_ENV&&100<(r+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==h.reset){var i=h.orderedModifiers[o],a=i.fn,u=i.options,s=void 0===u?{}:u,c=i.name;"function"==typeof a&&(h=a({state:h,options:s,name:c,instance:m})||h)}else h.reset=!1,o=-1}}else"production"!==w.env.NODE_ENV&&console.error(H)}},update:(n=function(){return new Promise(function(e){m.forceUpdate(),e(h)})},function(){return r=r||new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(n())})})}),destroy:function(){y(),l=!0}};if(!B(p,d))return"production"!==w.env.NODE_ENV&&console.error(H),m;function y(){v.forEach(function(e){return e()}),v=[]}return m.setOptions(t).then(function(e){!l&&t.onFirstUpdate&&t.onFirstUpdate(e)}),m}}var v={passive:!0};function se(e){return e.split("-")[1]}function ce(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function V(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?ue(o):null,a=o?se(o):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case ne:t={x:u,y:n.y-r.height};break;case re:t={x:u,y:n.y+n.height};break;case oe:t={x:n.x+n.width,y:s};break;case ie:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=i?ce(i):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case ae:t[c]=Math.floor(t[c])-Math.floor(n[l]/2-r[l]/2);break;case h:t[c]=Math.floor(t[c])+Math.ceil(n[l]/2-r[l]/2)}}return t}var $={top:"auto",right:"auto",bottom:"auto",left:"auto"};function m(e){var t,n,r,o,i,a=e.popper,u=e.popperRect,s=e.placement,c=e.offsets,l=e.position,f=e.gpuAcceleration,p=e.adaptive,d=(r=(n=c).x,o=n.y,i=window.devicePixelRatio||1,{x:Math.round(r*i)/i||0,y:Math.round(o*i)/i||0}),h=d.x,v=d.y,m=c.hasOwnProperty("x"),y=c.hasOwnProperty("y"),g=ie,b=ne,w=window;if(p){var x=te(a);x===E(a)&&(x=_(a)),s===ne&&(b=re,v-=x.clientHeight-u.height,v*=f?1:-1),s===ie&&(g=oe,h-=x.clientWidth-u.width,h*=f?1:-1)}var P,O=Object.assign({position:l},p&&$);return f?Object.assign({},O,((P={})[b]=y?"0":"",P[g]=m?"0":"",P.transform=(w.devicePixelRatio||1)<2?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",P)):Object.assign({},O,((t={})[b]=y?v+"px":"",t[g]=m?h+"px":"",t.transform="",t))}var t={left:"right",right:"left",bottom:"top",top:"bottom"};function F(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}var n={start:"end",end:"start"};function W(e){return e.replace(/start|end/g,function(e){return n[e]})}function y(e){return parseFloat(e)||0}function g(e){var t,n,r=E(e),o={top:y((n=f(t=e)?x(t):{}).borderTopWidth),right:y(n.borderRightWidth),bottom:y(n.borderBottomWidth),left:y(n.borderLeftWidth)},i="html"===c(e),a=p(e),u=e.clientWidth+o.right,s=e.clientHeight+o.bottom;return i&&50<r.innerHeight-e.clientHeight&&(s=r.innerHeight-o.bottom),{top:i?0:e.clientTop,right:e.clientLeft>o.left?o.right:i?r.innerWidth-u-a:e.offsetWidth-u,bottom:i?r.innerHeight-s:e.offsetHeight-s,left:i?a:e.clientLeft}}function b(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function U(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z(e,t){return t===I?U((a=E(e),u=a.visualViewport,s=a.innerWidth,c=a.innerHeight,u&&/iPhone|iPod|iPad/.test(navigator.platform)&&(s=u.width,c=u.height),{width:s,height:c,x:0,y:0})):f(t)?M(t):U((n=_(e),r=E(n),o=l(n),(i=P(_(n),r)).height=Math.max(i.height,r.innerHeight),i.width=Math.max(i.width,r.innerWidth),i.x=-o.scrollLeft,i.y=-o.scrollTop,i));var n,r,o,i,a,u,s,c}function K(o,e,t){var n,r,i,a="clippingParents"===e?(r=O(n=o),k(i=0<=["absolute","fixed"].indexOf(x(n).position)&&f(n)?te(n):n)?r.filter(function(e){return k(e)&&b(e,i)}):[]):[].concat(e),u=[].concat(a,[t]),s=u[0],c=u.reduce(function(e,t){var n=z(o,t),r=g(f(t)?t:_(o));return e.top=Math.max(n.top+r.top,e.top),e.right=Math.min(n.right-r.right,e.right),e.bottom=Math.min(n.bottom-r.bottom,e.bottom),e.left=Math.max(n.left+r.left,e.left),e},z(o,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function le(){return{top:0,right:0,bottom:0,left:0}}function J(e){return Object.assign({},le(),{},e)}function Q(n,e){return e.reduce(function(e,t){return e[t]=n,e},{})}function fe(e,t){void 0===t&&(t={});var n=t.placement,r=void 0===n?e.placement:n,o=t.boundary,i=void 0===o?j:o,a=t.rootBoundary,u=void 0===a?I:a,s=t.elementContext,c=void 0===s?R:s,l=t.altBoundary,f=void 0!==l&&l,p=t.padding,d=void 0===p?0:p,h=J("number"!=typeof d?d:Q(d,N)),v=c===R?L:R,m=e.elements.reference,y=e.rects.popper,g=e.elements[f?v:c],b=K(k(g)?g:g.contextElement||_(e.elements.popper),i,u),w=M(m),x=V({reference:w,element:y,strategy:"absolute",placement:r}),P=U(Object.assign({},y,{},x)),O=c===R?P:w,E={top:b.top-O.top+h.top,bottom:O.bottom-b.bottom+h.bottom,left:b.left-O.left+h.left,right:O.right-b.right+h.right},S=e.modifiersData.offset;if(c===R&&S){var T=S[r];Object.keys(E).forEach(function(e){var t=0<=[oe,re].indexOf(e)?1:-1,n=0<=[ne,re].indexOf(e)?"y":"x";E[e]+=T[n]*t})}return E}function pe(e,t,n){return Math.max(e,Math.min(t,n))}function Z(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function de(t){return[ne,oe,re,ie].some(function(e){return 0<=t[e]})}var i=[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,u=void 0===a||a,s=E(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,v)}),u&&s.addEventListener("resize",n.update,v),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,v)}),u&&s.removeEventListener("resize",n.update,v)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=V({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i;if("production"!==w.env.NODE_ENV){var u=x(t.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(e){return 0<=u.indexOf(e)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var s={placement:ue(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,{},m(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},m(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},n=o.attributes[e]||{},r=o.elements[e];f(r)&&c(r)&&(Object.assign(r.style,t),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var o=e.state,i={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,i.popper),o.elements.arrow&&Object.assign(o.elements.arrow.style,i.arrow),function(){Object.keys(o.elements).forEach(function(e){var t=o.elements[e],n=o.attributes[e]||{},r=Object.keys(o.styles.hasOwnProperty(e)?o.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});f(t)&&c(t)&&(Object.assign(t.style,r),Object.keys(n).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var l=e.state,t=e.options,n=e.name,r=t.offset,f=void 0===r?[0,0]:r,o=G.reduce(function(e,t){var n,r,o,i,a,u,s,c;return e[t]=(n=t,r=l.rects,o=f,i=ue(n),a=0<=[ie,ne].indexOf(i)?-1:1,u="function"==typeof o?o(Object.assign({},r,{placement:n})):o,s=u[0],c=u[1],s=s||0,c=(c||0)*a,0<=[ie,oe].indexOf(i)?{x:c,y:s}:{x:s,y:c}),e},{}),i=o[l.placement],a=i.x,u=i.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=a,l.modifiersData.popperOffsets.y+=u),l.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var o=t.mainAxis,i=void 0===o||o,a=t.altAxis,u=void 0===a||a,s=t.fallbackPlacements,c=t.padding,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,d=t.flipVariations,h=void 0===d||d,v=t.allowedAutoPlacements,m=n.options.placement,y=ue(m),g=s||(y===m||!h?[F(m)]:function(e){if(ue(e)===D)return[];var t=F(e);return[W(e),t,W(t)]}(m)),b=[m].concat(g).reduce(function(e,t){return e.concat(ue(t)===D?function(n,e){void 0===e&&(e={});var t=e.placement,r=e.boundary,o=e.rootBoundary,i=e.padding,a=e.flipVariations,u=e.allowedAutoPlacements,s=void 0===u?G:u,c=se(t),l=(c?a?X:X.filter(function(e){return se(e)===c}):N).filter(function(e){return 0<=s.indexOf(e)}).reduce(function(e,t){return e[t]=fe(n,{placement:t,boundary:r,rootBoundary:o,padding:i})[ue(t)],e},{});return Object.keys(l).sort(function(e,t){return l[e]-l[t]})}(n,{placement:t,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:v}):t)},[]),w=n.rects.reference,x=n.rects.popper,P=new Map,O=!0,E=b[0],S=0;S<b.length;S++){var T=b[S],M=ue(T),k=se(T)===ae,_=0<=[ne,re].indexOf(M),j=_?"width":"height",I=fe(n,{placement:T,boundary:l,rootBoundary:f,altBoundary:p,padding:c}),R=_?k?oe:ie:k?re:ne;w[j]>x[j]&&(R=F(R));var L=F(R),A=[];if(i&&A.push(I[M]<=0),u&&A.push(I[R]<=0,I[L]<=0),A.every(function(e){return e})){E=T,O=!1;break}P.set(T,A)}if(O)for(var C=function(n){var e=b.find(function(e){var t=P.get(e);if(t)return t.slice(0,n).every(function(e){return e})});if(e)return E=e,"break"},Y=h?3:1;0<Y;Y--){if("break"===C(Y))break}n.placement!==E&&(n.modifiersData[r]._skip=!0,n.placement=E,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,u=void 0!==a&&a,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,p=n.tether,d=void 0===p||p,h=n.tetherOffset,v=void 0===h?0:h,m=fe(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=ue(t.placement),g=se(t.placement),b=!g,w=ce(y),x="x"===w?"y":"x",P=t.modifiersData.popperOffsets,O=t.rects.reference,E=t.rects.popper,S="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,T={x:0,y:0};if(P){if(i){var M="y"===w?ne:ie,k="y"===w?re:oe,_="y"===w?"height":"width",j=P[w],I=P[w]+m[M],R=P[w]-m[k],L=d?-E[_]/2:0,A=g===ae?O[_]:E[_],C=g===ae?-E[_]:-O[_],Y=t.elements.arrow,D=d&&Y?ee(Y):{width:0,height:0},N=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:le(),X=N[M],G=N[k],q=pe(0,O[_],D[_]),H=b?O[_]/2-L-q-X-S:A-q-X-S,B=b?-O[_]/2+L+q+G+S:C+q+G+S,V=t.elements.arrow&&te(t.elements.arrow),$=V?"y"===w?V.clientTop||0:V.clientLeft||0:0,F=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,W=P[w]+H-F-$,U=P[w]+B-F,z=pe(d?Math.min(I,W):I,j,d?Math.max(R,U):R);P[w]=z,T[w]=z-j}if(u){var K="x"===w?ne:ie,J="x"===w?re:oe,Q=P[x],Z=pe(Q+m[K],Q,Q-m[J]);P[x]=Z,T[x]=Z-Q}t.modifiersData[r]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=ue(n.placement),u=ce(a),s=0<=[ie,oe].indexOf(a)?"height":"width";if(o&&i){var c=n.modifiersData[r+"#persistent"].padding,l=ee(o),f="y"===u?ne:ie,p="y"===u?re:oe,d=n.rects.reference[s]+n.rects.reference[u]-i[u]-n.rects.popper[s],h=i[u]-n.rects.reference[u],v=te(o),m=v?"y"===u?v.clientHeight||0:v.clientWidth||0:0,y=d/2-h/2,g=c[f],b=m-l[s]-c[p],w=m/2-l[s]/2+y,x=pe(g,w,b),P=u;n.modifiersData[r]=((t={})[P]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,o=n.element,i=void 0===o?"[data-popper-arrow]":o,a=n.padding,u=void 0===a?0:a;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||("production"!==w.env.NODE_ENV&&(f(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),b(t.elements.popper,i)?(t.elements.arrow=i,t.modifiersData[r+"#persistent"]={padding:J("number"!=typeof u?u:Q(u,N))}):"production"!==w.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "))))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=fe(t,{elementContext:"reference"}),u=fe(t,{altBoundary:!0}),s=Z(a,r),c=Z(u,o,i),l=de(s),f=de(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}],a=e({defaultModifiers:i});s.createPopper=a,s.defaultModifiers=i,s.detectOverflow=fe,s.popperGenerator=e}).call(this,e("_process"))},{_process:20}],18:[function(e,t,n){!function(){"use strict";var t="ontouchstart"in document;"maxTouchPoints"in Navigator.prototype||Object.defineProperty(Navigator.prototype,"maxTouchPoints",{value:"maxTouchPoints"in navigator?navigator.maxTouchPoints:"msMaxTouchPoints"in navigator?navigator.msMaxTouchPoints:t?1:0,enumerable:!0});function u(e){switch(e){case"gotpointercapture":case"lostpointercapture":case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":case"pointerenter":case"pointerleave":case"pointerout":case"pointerover":return 1;default:return}}var e=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"].every(function(e){return"on"+e in window});if(!e){var n=EventTarget.prototype.dispatchEvent;EventTarget.prototype.dispatchEvent=function(e){if(u(e.type)){var t=this["on"+e.type];null!=t&&t(e)}return n.call(this,e)}}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var h={pointerId:0,width:1,height:1,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:"",isPrimary:!1},v={writable:!1,configurable:!0,enumerable:!0};function o(e,t){return d({value:null!=t?t:h[e]},v)}var i=new Set,f=(r.prototype.deepPath=function(){return[]},r.prototype.composedPath=function(){return[]},r.prototype.getModifierState=function(e){return!1},r.prototype.initEvent=function(e,t,n){},r.prototype.initMouseEvent=function(e,t,n,r,o,i,a,u,s,c,l,f,p,d,h){},r.prototype.initUIEvent=function(e,t,n,r,o){},r.prototype.preventDefault=function(){},r.prototype.stopImmediatePropagation=function(){},r.prototype.stopPropagation=function(){},r);function r(e,t){void 0===t&&(t={});var n={pointerId:o("pointerId",t.pointerId),width:o("width",t.width),height:o("height",t.height),pressure:o("pressure",t.pressure),tangentialPressure:o("tangentialPressure",t.tangentialPressure),tiltX:o("tiltX",t.tiltX),tiltY:o("tiltY",t.tiltY),twist:o("twist",t.twist),pointerType:o("pointerType",t.pointerType),isPrimary:o("isPrimary",t.isPrimary)},r=new MouseEvent(e,t);return Object.defineProperties(r,n),i.add(n.pointerId.value),r}function s(e){if(t)switch(e){case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"pointercancel":return"touchcancel";case"pointerout":case"pointerleave":case"pointerenter":case"pointerover":case"lostpointercapture":case"gotpointercapture":return null}else switch(e){case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"pointercancel":return null;case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerenter":return"mouseenter";case"pointerover":return"mouseover";case"lostpointercapture":case"gotpointercapture":return null}throw new TypeError("Event of type: '"+e+"' could not be handled!")}function y(e){return null!=e&&"offsetLeft"in e}function m(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}var g=new Map;function b(e,t){return"pointerup"===e?0:"force"in t?t.force:"webkitForce"in t?t.webkitForce:h.pressure}function w(e,t,n,r){var o=g.get(e);return void 0!==o?o:"pointermove"===t&&y(n.target)&&y(n.currentTarget)?function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=m(t);if(n===t)return document;t=n}return document}(n.currentTarget).elementFromPoint(r.clientX,r.clientY):n.target}function c(e){for(var t=[],n=e;null!=n&&(t.push(n),n=m(n),t[t.length-1]!==n););return t}function x(e,t,n,r){Object.defineProperties(e,d({},void 0===t?{}:{target:d({value:t},v)},void 0===n?{}:{currentTarget:d({value:n},v)},void 0===r?{}:{relatedTarget:d({value:r},v)}))}var l=h.pointerId+1,a=l+1;function P(e){return e.identifier+a}function O(e,t){switch(e){case"pointerover":case"pointerdown":case"pointermove":case"pointerup":return!0;default:return t.cancelable}}function E(e,t){switch(e){case"pointerover":case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":case"pointerout":case"gotpointercapture":case"lostpointercapture":return!0;default:return t.bubbles}}var S=new Set(["cancelBubble","currentTarget","defaultPrevented","eventPhase","returnValue","scoped","srcElement","timeStamp","deepPath","AT_TARGET","BUBBLING_PHASE","CAPTURING_PHASE","NONE"]),T=new Set(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(S,["view"],"sourceCapabilities"in UIEvent.prototype?["sourceCapabilities"]:[]));function M(e){var t=e.dynamicPropertiesHandler,n=e.e,r=e.initOptions,o=e.overwrittenMouseEventProperties,i=e.type,a=new f(i,r),u=a.preventDefault,s=a.stopPropagation,c=a.stopImmediatePropagation;a.preventDefault=function(){u.call(this),n.defaultPrevented||n.preventDefault()},a.stopPropagation=function(){s.call(this),n.stopPropagation()},a.stopImmediatePropagation=function(){c.call(this),n.stopImmediatePropagation()};var l={};return T.forEach(function(e){return l[e]=d({value:n[e]},v)}),l=d({},l,o,t()),Object.defineProperties(a,l),a}var k=new Set;function _(e){var t=e.type,n=e.pointerId;switch(t){case"pointercancel":k.add(n);break;case"pointerdown":case"pointerup":k.delete(n)}}function j(e,t){"function"==typeof t?t(e):t.handleEvent(e)}var I="touchAction",R="touch-action",L=new RegExp(R+":\\s*([^;]*)");var A="___touchAction___",C=5,Y=["pointercancel","pointerleave","pointerup","pointerout"],D=new Map;function N(e,t,n,r){switch(t){case"pointerdown":case"pointermove":case"pointerup":case"pointerover":case"pointerenter":case"gotpointercapture":case"lostpointercapture":return o=e,i=t,u=r,s=(a=n).clientX-(y(a.target)?a.target.offsetLeft:0),c=a.clientY-(y(a.target)?a.target.offsetTop:0),l="offsetParent"in a.target?a.target:null,f=null==l?s:a.clientX-l.offsetLeft,p=null==l?c:a.clientY-l.offsetTop,{target:d({value:w(o,i,u,a)},v),relatedTarget:d({value:null},v),button:d({value:"gotpointercapture"===i?-1:0},v),buttons:d({value:"pointerup"===i||"lostpointercapture"===i?0:1},v),clientX:d({value:a.clientX},v),clientY:d({value:a.clientY},v),screenX:d({value:a.screenX},v),screenY:d({value:a.screenY},v),pageX:d({value:a.pageX},v),pageY:d({value:a.pageY},v),x:d({value:a.clientX},v),y:d({value:a.clientY},v),offsetX:d({value:s},v),offsetY:d({value:c},v),layerX:d({value:f},v),layerY:d({value:p},v),movementX:d({value:0},v),movementY:d({value:0},v),width:d({value:function(e){return"radiusX"in e?2*e.radiusX:"webkitRadiusX"in e?2*e.webkitRadiusX:h.width}(a)},v),height:d({value:function(e){return"radiusY"in e?2*e.radiusY:"webkitRadiusY"in e?2*e.webkitRadiusY:h.height}(a)},v),pressure:d({value:b(i,a)},v),tangentialPressure:d({value:h.tangentialPressure},v),tiltX:d({value:h.tiltX},v),tiltY:d({value:h.tiltY},v),twist:d({value:function(e){return"rotationAngle"in e?e.rotationAngle:"webkitRotationAngle"in e?e.webkitRotationAngle:h.twist}(a)},v)};case"pointercancel":case"pointerout":case"pointerleave":return{target:d({value:w(e,t,r,n)},v),relatedTarget:d({value:null},v),button:d({value:0},v),buttons:d({value:0},v),clientX:d({value:0},v),clientY:d({value:0},v),width:d({value:h.width},v),height:d({value:h.height},v),pressure:d({value:h.pressure},v),tangentialPressure:d({value:h.tangentialPressure},v),tiltX:d({value:h.tiltX},v),tiltY:d({value:h.tiltY},v),twist:d({value:h.twist},v),layerX:d({value:0},v),layerY:d({value:0},v),movementX:d({value:0},v),movementY:d({value:0},v),offsetX:d({value:0},v),offsetY:d({value:0},v),pageX:d({value:0},v),pageY:d({value:0},v),screenX:d({value:0},v),screenY:d({value:0},v),x:d({value:0},v),y:d({value:0},v)};default:throw new TypeError("Error: Could not handle dynamic properties for a PointerEvent of type: '"+t+"'")}var o,i,a,u,s,c,l,f,p}function X(e,t,v,n){switch(e){case"pointermove":if(y(v.target)&&y(v.currentTarget)){var m=v[A];if("auto"!==m){n.forEach(function(e){var t=e.pointerId,n=e.clientX,r=e.clientY;if(v.cancelable&&!v.defaultPrevented){var o=D.get(t);if(null==o)return;var i=n-o.clientX,a=Math.abs(i),u=r-o.clientY,s=Math.abs(u),c=C<a&&s<a,l=C<s&&a<s,f=0<u,p=u<0,d=0<i,h=i<0;"none"===m?(c||l)&&v.preventDefault():"pan-y"===m?c&&v.preventDefault():"pan-y pan-left"===m?h&&v.preventDefault():"pan-y pan-right"===m?d&&v.preventDefault():"pan-up"===m?f||v.preventDefault():"pan-down"===m?p||v.preventDefault():"pan-left"===m?d||v.preventDefault():"pan-right"===m?h||v.preventDefault():"pan-x"===m?l&&v.preventDefault():"pan-x pan-up"===m?p&&v.preventDefault():"pan-x pan-down"===m&&f&&v.preventDefault()}});break}if(v.target!==v.currentTarget){if(Array.from(v.changedTouches).some(function(e){return g.has(P(e))}))break;B("pointercancel",v,t)}}break;case"pointerdown":B("pointerover",v,t),B("pointerenter",v,t)}}function G(e,t,n){var r=n.target,o=n.currentTarget;switch("pointerup"!==e&&"pointercancel"!==e||Array.from(n.changedTouches).forEach(function(e){var t=P(e),n=g.get(t);null!=n&&y(n)&&n.releasePointerCapture(t)}),e){case"pointerdown":if(y(n.currentTarget)){var i=function(){},a=function(){t.removeEventListener("pointermove",i),null!=Y&&Y.forEach(function(e){t.removeEventListener(e,a)})};t.addEventListener("pointermove",i);var u=function(e){for(var t=[],n=e;null!=n;){if("style"in n){var r=getComputedStyle(n).getPropertyValue("overflow"),o=r.startsWith("visible")||r.startsWith("scroll"),i=r.endsWith("visible")||r.endsWith("scroll");(o||i)&&t.push({canScrollX:o,canScrollY:i,scrollElement:n})}var a=m(n);if(a===n)break;n=a}return t}(n.currentTarget),s=!1,c=function(){null!=u&&(u.forEach(function(e){return e.scrollElement.removeEventListener("scroll",l)}),u=null),null!=Y&&Y.forEach(function(e){t.removeEventListener(e,c)})},l=function(){s||(s=!0,x(n,r,o),B("pointercancel",n,t)),c()};u.forEach(function(e){return e.scrollElement.addEventListener("scroll",l)}),Y.forEach(function(e){t.addEventListener(e,c),t.addEventListener(e,a)})}break;case"pointercancel":B("pointerout",n,t),B("pointerleave",n,t)}}function q(e,t){if(y(t.currentTarget)){var n=function(e){for(var t=[],n=e;null!=n;){var r=null;if("style"in n){if(null==(r=n.style[I])||""===r){var o=n.getAttribute("style");if(null!=o&&o.includes(R)){var i=o.match(L);if(null!=i)r=p(i,2)[1]}}if(null==r||""===r){var a=e.getAttribute("touch-action");null!=a&&""!==a&&(r=a)}null!=r&&t.push({element:n,touchAction:new Set(r.split(/\s/).map(function(e){return e.trim()}))})}var u=m(n);if(u===n)break;n=u}return t}(t.currentTarget),r=n.some(function(e){return e.touchAction.has("none")}),o=n.some(function(e){return e.touchAction.has("pan-x")}),i=n.some(function(e){return e.touchAction.has("pan-y")}),a=n.some(function(e){return e.touchAction.has("pan-up")}),u=n.some(function(e){return e.touchAction.has("pan-down")}),s=n.some(function(e){return e.touchAction.has("pan-left")}),c=n.some(function(e){return e.touchAction.has("pan-right")}),l=r||o||s&&c,f=r||i||a&&u;l&&f?Object.defineProperty(t,A,{value:"none"}):l?a?Object.defineProperty(t,A,{value:"pan-x pan-up"}):u?Object.defineProperty(t,A,{value:"pan-x pan-down"}):Object.defineProperty(t,A,{value:"pan-x"}):f?s?Object.defineProperty(t,A,{value:"pan-y pan-left"}):c?Object.defineProperty(t,A,{value:"pan-y pan-right"}):Object.defineProperty(t,A,{value:"pan-y"}):a?s?Object.defineProperty(t,A,{value:"pan-up pan-left"}):c&&Object.defineProperty(t,A,{value:"pan-up pan-right"}):u?s?Object.defineProperty(t,A,{value:"pan-down pan-left"}):c&&Object.defineProperty(t,A,{value:"pan-down pan-right"}):s?Object.defineProperty(t,A,{value:"pan-left"}):c?Object.defineProperty(t,A,{value:"pan-right"}):a?Object.defineProperty(t,A,{value:"pan-up"}):u?Object.defineProperty(t,A,{value:"pan-down"}):Object.defineProperty(t,A,{value:"auto"})}}function H(i,a){return q(0,a),Array.from(a.changedTouches).map(function(e){var t=P(e),n=d({},a,{pointerId:t,pointerType:"touch",isPrimary:e===a.changedTouches[0],bubbles:E(i,a),cancelable:O(i,a)});if("pointerout"!==i&&"pointerleave"!==i&&k.has(t))return a.cancelable&&!a.defaultPrevented&&a.preventDefault(),_({type:i,pointerId:t}),null;var r=d({scoped:d({value:a.scoped},v),fromElement:d({value:null},v),toElement:d({value:null},v),detail:d({value:0},v),composed:d({value:!0},v),composedPath:d({value:function(){return c(a.target)}},v)},"region"in Touch.prototype?{region:d({value:e.region},v)}:{},"path"in Event.prototype&&y(e.target)?{path:d({value:c(e.target)},v)}:{},"deepPath"in Event.prototype&&y(e.target)?{path:d({value:function(){return c(e.target)}},v)}:{}),o=M({e:a,type:i,initOptions:n,overwrittenMouseEventProperties:r,dynamicPropertiesHandler:function(){return N(t,i,e,a)}});return x(a,o.target,o.currentTarget,o.relatedTarget),"pointerdown"===i&&D.set(t,o),o}).filter(function(e){return null!=e})}function B(e,t,n){var r=H(e,t);X(e,n,t,r),r.forEach(function(e){_(e),n.dispatchEvent(e)}),G(e,n,t)}function V(e,t,n,r){var o,i,a,u,s;a=e,u=r,s=H(o=t,i=n),X(o,a,i,s),s.forEach(function(e){_(e),j(e,u)}),G(o,a,i)}function $(e,t){var n=g.get(e);return void 0!==n?n:t.target}var F=new Map;function W(e,t){switch(e){case"pointercancel":case"pointerup":if(null!=t.currentTarget&&F.has(t.currentTarget))F.get(t.currentTarget).dispose(),F.delete(t.currentTarget);var n=g.get(l);null!=n&&y(n)&&n.releasePointerCapture(l);break;case"pointerdown":null==t.currentTarget||F.has(t.currentTarget)||F.set(t.currentTarget,(a=(i=t).target,u=i.currentTarget,r=function(e){var t=y(u)?u.getBoundingClientRect():{left:0,top:0},n=t.left,r=t.top;K("pointerup",i,u,{target:d({value:a},v),currentTarget:d({value:u},v),clientX:d({value:e.clientX},v),clientY:d({value:e.clientY},v),screenX:d({value:e.screenX},v),screenY:d({value:e.screenY},v),layerX:d({value:e.layerX},v),layerY:d({value:e.layerY},v),movementX:d({value:e.movementX},v),movementY:d({value:e.movementY},v),offsetX:d({value:e.clientX-n},v),offsetY:d({value:e.clientY-r},v),pageX:d({value:e.pageX},v),pageY:d({value:e.pageY},v),x:d({value:e.x},v),y:d({value:e.y},v)}),o()},window.addEventListener("mouseup",r),{dispose:o}))}function o(){window.removeEventListener("mouseup",r)}var i,a,u,r}function U(e,t,n){switch(t){case"pointerdown":case"pointermove":case"pointerup":case"pointerover":case"pointerenter":case"gotpointercapture":case"lostpointercapture":return o=t,{target:d({value:$(e,i=n)},v),button:d({value:"pointerover"===o||"gotpointercapture"===o?-1:"lostpointercapture"===o?0:i.button},v),buttons:d({value:"lostpointercapture"===o?0:"gotpointercapture"===o?1:i.buttons},v),clientX:d({value:i.clientX},v),clientY:d({value:i.clientY},v),screenX:d({value:i.screenX},v),screenY:d({value:i.screenY},v),layerX:d({value:i.layerX},v),layerY:d({value:i.layerY},v),movementX:d({value:i.movementX},v),movementY:d({value:i.movementY},v),offsetX:d({value:i.offsetX},v),offsetY:d({value:i.offsetY},v),pageX:d({value:i.pageX},v),pageY:d({value:i.pageY},v),x:d({value:i.x},v),y:d({value:i.y},v),relatedTarget:d({value:null},v),width:d({value:1},v),height:d({value:1},v),pressure:d({value:b(o,i)},v),tangentialPressure:d({value:0},v),tiltX:d({value:0},v),tiltY:d({value:0},v),twist:d({value:0},v)};case"pointerout":case"pointerleave":case"pointercancel":return{target:d({value:$(e,r=n)},v),button:d({value:r.button},v),buttons:d({value:r.buttons},v),clientX:d({value:r.clientX},v),clientY:d({value:r.clientY},v),screenX:d({value:r.screenX},v),screenY:d({value:r.screenY},v),layerX:d({value:r.layerX},v),layerY:d({value:r.layerY},v),movementX:d({value:r.movementX},v),movementY:d({value:r.movementY},v),offsetX:d({value:r.offsetX},v),offsetY:d({value:r.offsetY},v),pageX:d({value:r.pageX},v),pageY:d({value:r.pageY},v),x:d({value:r.x},v),y:d({value:r.y},v),relatedTarget:d({value:r.relatedTarget},v),width:d({value:1},v),height:d({value:1},v),pressure:d({value:b("pointerout",r)},v),tangentialPressure:d({value:0},v),tiltX:d({value:0},v),tiltY:d({value:0},v),twist:d({value:0},v)};default:throw new TypeError("Error: Could not handle dynamic properties for a PointerEvent of type: '"+t+"'")}var r,o,i}function z(e,t){var n=l,r=d({},t,{pointerId:n,pointerType:"mouse",isPrimary:!0,bubbles:E(e,t),cancelable:O(e,t)});if(("pointerout"===e||"pointerleave"===e)&&g.has(n))return t.cancelable&&!t.defaultPrevented&&t.preventDefault(),[];var o=d({scoped:d({value:t.scoped},v),fromElement:d({value:null},v),toElement:d({value:null},v),detail:d({value:0},v),composed:d({value:!0},v),composedPath:d({value:function(){return c(t.target)}},v)},"region"in MouseEvent.prototype?{region:d({value:t.region},v)}:{},"path"in t?{path:d({value:t.path},v)}:{},"deepPath"in Event.prototype&&y(t.target)?{path:d({value:function(){return c(t.target)}},v)}:{}),i=M({e:t,type:e,initOptions:r,overwrittenMouseEventProperties:o,dynamicPropertiesHandler:function(){return U(n,e,t)}});return x(t,i.target,i.currentTarget,i.relatedTarget),[i]}function K(e,t,n,r){z(e,t).forEach(function(e){null!=r&&Object.defineProperties(e,r),_(e),n.dispatchEvent(e)}),W(e,t)}function J(e,t,n,r){var o,i,a;a=r,z(o=t,i=n).forEach(function(e){_(e),j(e,a)}),W(o,i)}var Q=new Map;function Z(e,t){var n=Q.get(e);null==n&&(n=new Set,Q.set(e,n)),n.add(t)}var ee="PointerEvent"in window;if(!ee){var te=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(t,n,e){var r=this;if(null==n)return te(t,n,e);if(u(t)){var o=s(t),i=function(e){return"changedTouches"in e?V(r,t,e,n):J(0,t,e,n)},a=function(e){e.isTrusted||j(e,n)};null!=o&&(te.call(this,o,i,e),Z(n,i)),te.call(this,t,a,e),Z(n,a)}else te.call(this,t,n,e)}}if(!ee){var ne=EventTarget.prototype.removeEventListener;EventTarget.prototype.removeEventListener=function(t,e,n){var r=this,o=u(t)?s(t):void 0;if(null==e)return ne.call(this,t,null,n),void(null!=o&&ne.call(this,o,null,n));var i=Q.get(e);null!=i?(i.forEach(function(e){ne.call(r,t,e,n),null!=o&&ne.call(r,o,e,n)}),Q.delete(e)):(ne.call(this,t,e,n),null!=o&&ne.call(this,o,e,n))}}e||(EventTarget.prototype.ongotpointercapture=null,EventTarget.prototype.onlostpointercapture=null,EventTarget.prototype.onpointerdown=null,EventTarget.prototype.onpointermove=null,EventTarget.prototype.onpointerup=null,EventTarget.prototype.onpointercancel=null,EventTarget.prototype.onpointerover=null,EventTarget.prototype.onpointerout=null,EventTarget.prototype.onpointerenter=null,EventTarget.prototype.onpointerleave=null);function re(){oe=null!=document.pointerLockElement&&null!=document.mozPointerLockElement}var oe=!1;function ie(t,n){var r;try{r=new DOMException(t,n)}catch(e){r=new Error(n+": "+t),null!=n&&(r.name=n)}throw r}document.addEventListener("pointerlockchange",re),document.addEventListener("mozpointerlockchange",re),ee||(Element.prototype.setPointerCapture=function(e){i.has(e)||ie("Could not set pointer capture on an element: No active pointers exist with the given pointer id: '"+e+"'","InvalidPointerId"),this.isConnected||ie("Could not set pointer capture on an element: It wasn't connected!","InvalidStateError"),oe&&ie("Could not set pointer capture on an element: The document had a PointerLock!","InvalidStateError"),g.set(e,this),t?B("gotpointercapture",new TouchEvent(""),this):K("gotpointercapture",new MouseEvent(""),this)}),ee||(Element.prototype.releasePointerCapture=function(e){i.has(e)||ie("Could not release pointer capture on an element: No active pointers exist with the given pointer id: '"+e+"'","InvalidPointerId"),g.delete(e),t?B("lostpointercapture",new TouchEvent(""),this):K("lostpointercapture",new MouseEvent(""),this)}),ee||(Element.prototype.hasPointerCapture=function(e){return null!=g.get(e)}),ee||(window.PointerEvent=f)}()},{}],19:[function(e,t,n){var s=Object.create||function(e){function t(){}return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var o,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),o=0===c.x}catch(e){o=!1}function l(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]):(i=e._events=s(null),e._eventsCount=0),a){if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(o=l(e))&&0<o&&a.length>o){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else a=i[t]=n,++e._eventsCount;return e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(p,r);return o.listener=n,r.wrapFn=o}function h(e,t,n){var r=e._events;if(!r)return[];var o=r[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length):[]}function v(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}o?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):r.defaultMaxListeners=u,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(e,t,n,r){var o,i,a,u,s,c,l="error"===e;if(c=this._events)l=l&&null==c.error;else if(!l)return!1;if(l){if(1<arguments.length&&(o=t),o instanceof Error)throw o;var f=new Error('Unhandled "error" event. ('+o+")");throw f.context=o,f}if(!(i=c[e]))return!1;var p="function"==typeof i;switch(a=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=m(e,r),i=0;i<r;++i)o[i].call(n)}(i,p,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=m(e,o),a=0;a<o;++a)i[a].call(n,r)}(i,p,this,t);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=m(e,i),u=0;u<i;++u)a[u].call(n,r,o)}(i,p,this,t,n);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,u=m(e,a),s=0;s<a;++s)u[s].call(n,r,o,i)}(i,p,this,t,n,r);break;default:for(u=new Array(a-1),s=1;s<a;s++)u[s-1]=arguments[s];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=m(e,o),a=0;a<o;++a)i[a].apply(n,r)}(i,p,this,u)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return f(this,e,t,!1)},r.prototype.prependListener=function(e,t){return f(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=s(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=s(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=s(null):delete n[e]),this;if(0===arguments.length){var o,i=a(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],20:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,p=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=s(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new v(e,t)),1!==l.length||f||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[13]);
//# sourceMappingURL=bundle.min.js.map
