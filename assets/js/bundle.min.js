!function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,s)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";function p(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.lower=e,this.upper=t,this.treasureWidth=n}var e,t,n;return e=r,(t=[{key:"getNextProbeLocation",value:function(e,t){return Math.max(this.lower,Math.min(t.x,this.upper))}},{key:"clamp",value:function(e){return Math.max(this.lower,Math.min(e,this.upper))}},{key:"getAdjacentTangentDistance",value:function(t,e){var n=this;console.assert(this.lower<=t&&t<=this.upper,"x=".concat(t," out of range [").concat(this.lower,",").concat(this.upper,"]"));var r=e.filter(function(e){return n.lower<=e.x&&e.x<n.upper}).reduce(function(e,t){return e.add(t.x)},new Set).add(this.lower).add(this.upper),o=Array.from(r.values()).sort(),i=o.findIndex(function(e){return t<=e}),a=o[Math.max(0,i-1)],u=o[i];return console.log(o,t,i),u-a}},{key:"getOppositeTangentDistance",value:function(e,t,n,r,o,i,a){console.assert(this.lower<=t&&t<=this.upper,"x=".concat(t," out of range [").concat(this.lower,",").concat(this.upper,"]")),console.assert(this.lower<=e&&e<=this.upper,"tangentX=".concat(e," out of range [").concat(this.lower,",").concat(this.upper,"]"));var u={x:this.lower,value:r,slope:o},s={x:this.upper,value:i,slope:a};if(e<t){var c=n.map(function(e){return e.x}).findIndex(function(e){return t<=e});return-1===c?s:n[c]}var l=p(n).reverse(),f=l.map(function(e){return e.x}).findIndex(function(e){return e<=t});return-1===f?u:l[f]}},{key:"buildTangentPairsInRange",value:function(n,e,t,r,o){var i=this;return(n=n.filter(function(e){return i.lower<=e.x&&e.x<=i.upper})).unshift({x:this.lower,value:e,slope:t}),n.push({x:this.upper,value:r,slope:o}),Array.from({length:n.length-1},function(e,t){return{left:n[t],right:n[t+1]}})}},{key:"findLargestUnknownTerritory",value:function(e){var t=this;return this.buildTangentPairsInRange(e,0,0,0,0).filter(function(e){return e.right.x-e.left.x>=t.treasureWidth}).reduce(function(e,t){return t.right.x-t.left.x>e.right.x-e.left.x?t:e})}}])&&o(e.prototype,t),n&&o(e,n),r}();n.default=i},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("./base"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=p(i);return t=a?(e=p(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var i=1/Math.pow(2,7),d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,a["default"]);var o=f(i);function i(e,t,n){var r;return s(this,i),(r=o.call(this,e,t,n)).gda=null,r.lastTarget=null,r.locations=new Set,r}return c(i,[{key:"getNextProbeLocation",value:function(t,e){var n,r=this;if(null===this.lastTarget)n=e.x;else{var o=t.find(function(e){return e.x===r.lastTarget})||null;if(null===o)n=this.lastTarget;else try{n=this.getNextProbeLocationLocal(o,t)}catch(e){console.log("BotStrategyGradientDescent",e.message),n=this.getNextProbeLocationGlobal(t)}}return this.locations.add(n),this.lastTarget=n}},{key:"getNextProbeLocationLocal",value:function(e,t){if(console.log("BotStrategyGradientDescent","Local step with ",e),Math.abs(e.slope)<.2)throw new Error("Local minimum reached");var n;null===this.gda&&(this.locations.add(e.x),this.gda=new h);do{n=this.clamp(this.gda.step(e));var r=this.getOppositeTangentDistance(this.gda.lastArmijoTangent.x,n,t),o=Math.abs(this.gda.lastArmijoTangent.x-r.x),i=this.gda.lastArmijoTangent.slope*r.slope<0,a=o<this.treasureWidth;if(console.log("oppositeTangentDistance",o,"tooNarrow",a),n===this.gda.lastArmijoTangent.x||i&&a)throw new Error("No local progress possible")}while(this.locations.has(n));return n}},{key:"getNextProbeLocationGlobal",value:function(t){var n=this;console.log("BotStrategyGradientDescent","Global step");try{var r=t.filter(function(e){return Math.abs(e.slope)<.2}).reduce(function(e,t){return t.value>e.value?t:e},0),e=t.filter(function(e){return e.value>=r&&!n.locations.has(e.x)}),o=e.reduce(function(e,t){return e.value>t.value?e:t});return this.locations.add(o.x),this.gda=null,this.getNextProbeLocationLocal(o)}catch(e){this.gda=null;var i=this.findLargestUnknownTerritory(t);return(i.left.x+i.right.x)/2}}}]),i}();n.default=d;var h=function(){function e(){s(this,e),this.lastArmijoTangent=null,this.alpha=i}return c(e,[{key:"step",value:function(e){if(this.lastArmijoTangent||(this.lastArmijoTangent=e,this.alpha=i),e.value>this.lastArmijoTangent.value+.5*this.alpha*Math.abs(this.lastArmijoTangent.slope))return this.lastArmijoTangent=e,this.alpha=i,this.step(e);var t=this.lastArmijoTangent.x+this.alpha*this.lastArmijoTangent.slope;return console.log("alpha",this.alpha,"t",e,"x",t),this.alpha*=.5,t}}]),e}()},{"./base":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./base"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=l(i);return t=a?(e=l(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,i["default"]);var e,t,n,r=c(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"getNextProbeLocation",value:function(){return this.lower+(this.upper-this.lower)*Math.random()}}])&&a(e.prototype,t),n&&a(e,n),o}();n.default=o},{"./base":1}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./base"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=l(i);return t=a?(e=l(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,i["default"]);var e,t,n,r=c(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"getNextProbeLocation",value:function(e){var f=this;return this.buildTangentPairsInRange(e,0,.5,0,-.5).filter(function(e){return e.right.x-e.left.x>=f.treasureWidth}).map(function(e){return i=e.left,a=e.right,u=f.treasureWidth/2,t=function(e,t){var n={x:e.x,y:e.value},r={x:1,y:e.slope},o={x:t.x,y:t.value},i={x:-1,y:-t.slope},a={start:n,end:p(n,r)},u={start:o,end:p(o,i)},s=function(e,t){var n=e.end.x-e.start.x,r=e.end.y-e.start.y,o=t.end.x-t.start.x,i=t.end.y-t.start.y,a=i*n-o*r;if(0==a)return null;var u=e.start.x-t.start.x,s=e.start.y-t.start.y,c=(o*s-i*u)/a;return{x:e.start.x+c*n,y:e.start.y+c*r}}(a,u);return null!==s&&e.x<s.x&&s.x<t.x?s:null}(i,a),n={x:(i.x+a.x)/2,y:(i.value+a.value)/2},r={x:n.x,y:i.value+i.slope*(a.x-i.x)},o={x:n.x,y:a.value-a.slope*(a.x-i.x)},s=[t,n,r,o].filter(function(e){return null!==e}).map(function(e){return Object.assign(e,{weight:(n=a,r=e,o=u,(t=i).value<=r.y&&n.value<=r.y?1+r.y:r.y*(n.x-t.x-2*o))});var t,n,r,o}).reduce(function(e,t){return e.weight>t.weight?e:t}),c=i.x+u,l=a.x-u,s.x=Math.max(c,Math.min(s.x,l)),s;var i,a,u,t,n,r,o,s,c,l}).reduce(function(e,t){return e.weight>t.weight?e:t}).x}}])&&a(e.prototype,t),n&&a(e,n),o}();function p(e,t){return{x:e.x+t.x,y:e.y+t.y}}n.default=o},{"./base":1}],5:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=Array(e).fill(null).map(function(e){return{left:!1,right:!1,action:!1}}),this.statesModified=!1}var e,n,r;return e=t,(n=[{key:"modifyState",value:function(e,t,n){this.states[e][t]!==n&&(this.states[e][t]=n,this.statesModified=!0)}},{key:"getStates",value:function(){if(this.statesModified){var e=this.states;return this.states=this.states.map(function(e){return Object.assign({},e)}),this.statesModified=!1,e}return this.states}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=r},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=p(i);return t=a?(e=p(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,i["default"]);var e,t,n,r=f(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.call(this,e)}return e=o,(t=[{key:"updateState",value:function(){var t=this;this.states=a(this.states),Array.from(navigator.getGamepads()).filter(function(e){return null!==e&&e.index<t.states.length}).forEach(function(e){t.modifyState(e.index,"left",e.axes[0]<-.5),t.modifyState(e.index,"right",.5<e.axes[0]),t.modifyState(e.index,"action",e.buttons[1].pressed||e.buttons[2].pressed)})}},{key:"getStates",value:function(){return this.updateState(),c(p(o.prototype),"getStates",this).call(this)}}])&&s(e.prototype,t),n&&s(e,n),o}();n.default=d},{"./controls":5}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=c(i);return t=a?(e=c(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l={ArrowLeft:{id:0,prop:"left"},ArrowRight:{id:0,prop:"right"},ArrowDown:{id:0,prop:"action"},Space:{id:0,prop:"action"},KeyA:{id:1,prop:"left"},KeyD:{id:1,prop:"right"},KeyS:{id:1,prop:"action"}},o=Object.keys(l);function f(e){o.includes(e.code)&&e.preventDefault()}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,i["default"]);var t=s(o);function o(n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=t.call(this,n);function e(e){var t=l[e.code];t&&t.id<n&&r.modifyState(t.id,t.prop,"keydown"===e.type)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),window.addEventListener("keydown",f,!1),r}return o}();n.default=p},{"./controls":5}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./controls"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=l(i);return t=a?(e=l(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,i["default"]);var e,t,n,r=c(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).element=document.createElement("div"),t.element.classList.add("screen-controls"),t.element.classList.add("with-".concat(e,"-controls"));for(var n=0;n<t.states.length;++n)t.element.appendChild(t.buildControl(n));return t.mousePressedButton=null,window.addEventListener("mouseup",function(){null!==t.mousePressedButton&&(t.modifyState(t.mousePressedButton.id,t.mousePressedButton.name,!1),t.mousePressedButton.element.classList.remove("active"),t.mousePressedButton=null)}),t}return e=o,(t=[{key:"buildControl",value:function(r){var o=this,e=document.createElement("div");e.classList.add("screen-control","screen-control-".concat(r));function t(t){var n=document.createElement("button");function e(e){0<e.targetTouches.length?(o.modifyState(r,t,!0),n.classList.add("active")):(o.modifyState(r,t,!1),n.classList.remove("active")),e.preventDefault()}return n.setAttribute("type","button"),n.classList.add(t),n.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchmove",e,{passive:!1}),n.addEventListener("touchend",e,{passive:!1}),n.addEventListener("touchcancel",e,{passive:!1}),n.addEventListener("mousedown",function(){o.modifyState(r,t,!0),n.classList.add("active"),o.mousePressedButton={id:r,name:t,element:n}}),n}return e.appendChild(t("left")),e.appendChild(t("action")),e.appendChild(t("right")),e}}])&&a(e.prototype,t),n&&a(e,n),o}();n.default=o},{"./controls":5}],9:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.fullScreenButton=document.createElement("div"),this.fullScreenButton.classList.add("fullscreen-button"),this.expandIcon=document.createElement("i"),this.expandIcon.classList.add("fas","fa-sm","fa-expand"),this.fullScreenButton.appendChild(this.expandIcon),this.compressIcon=document.createElement("i"),this.compressIcon.classList.add("fas","fa-compress"),this.fullScreenButton.appendChild(this.compressIcon),window.addEventListener("fullscreenchange",function(){return e.fullScreenChangeHandler()}),this.fullScreenChangeHandler(),this.fullScreenButton.onpointerup=function(){return e.toggleFullScreen()},this.element=this.fullScreenButton}var e,n,r;return e=t,(n=[{key:"fullScreenChangeHandler",value:function(){this.expandIcon.style.display=document.fullscreenElement?"none":"block",this.compressIcon.style.display=document.fullscreenElement?"block":"none"}},{key:"toggleFullScreen",value:function(){document.fullscreenEnabled?document.fullscreenElement?document.exitFullscreen().catch(function(e){return console.log(e)}):document.documentElement.requestFullscreen().catch(function(e){return console.log(e)}):console.log("Your browser cannot use fullscreen right now")}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=r},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./game-mode-menu"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=["none","random","gradient-descent","tangent-intersection"],o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["default"]);var e,t,n,r=l(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return e=o,(t=[{key:"getMenuTitle",value:function(){return IMAGINARY.i18n.t("choose-bot-type")}},{key:"getMenuItems",value:function(){var t=IMAGINARY.i18n.t("bot-types");return p.map(function(e){return t[e]})}},{key:"getDefaultItemIndex",value:function(){var e=p.indexOf(this.game.botType);return-1!==e?e:0}},{key:"processSelection",value:function(e){s(f(o.prototype),"processSelection",this).call(this,e),this.game.botType=p[e]}}])&&a(e.prototype,t),n&&a(e,n),o}();n.default=o},{"./game-mode-menu":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("./game-mode"))&&r.__esModule?r:{default:r};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function l(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){c(r,t,n,o,i,"next",e)}function i(e){c(r,t,n,o,i,"throw",e)}o(void 0)})}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=h(i);return t=a?(e=h(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==s(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,u["default"]);var e,t,n,r,o,i=d(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return e=a,(t=[{key:"handleEnterMode",value:(o=l(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=$(this.game.overlay),n=this.getMenuItems(),this.selectedIndex=this.getDefaultItemIndex(),$('<div class="text text-center menu-title" />').text(this.getMenuTitle()).appendTo(t),r=$('<div class="menu-selector" />').addClass("menu-selector-with-".concat(n.length)).appendTo(t),o=0;o<n.length;++o)$('<div class="item" />').addClass("item-".concat(o)).toggleClass("selected",this.selectedIndex===o).text(n[o]).appendTo(r);this.$selectorItems=r.children();case 7:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,t){for(var n,r=this,o=0;o<e.length;++o){var i=[e[o],t[o]],a=i[0],u=i[1];if(0!==a.direction&&a.direction*u.direction<=0&&(this.$selectorItems.eq(this.selectedIndex).removeClass("selected"),this.selectedIndex=(n=this.selectedIndex+a.direction,Math.max(0,Math.min(n,r.$selectorItems.length-1))),this.$selectorItems.eq(this.selectedIndex).addClass("selected")),a.action&&!u.action){this.processSelection(this.selectedIndex),this.triggerEvent("done");break}}}},{key:"getMenuTitle",value:function(){return"Menu"}},{key:"getMenuItems",value:function(){return["One","Two"]}},{key:"getDefaultItemIndex",value:function(){return 0}},{key:"processSelection",value:function(){}}])&&f(e.prototype,t),n&&f(e,n),a}();n.default=o},{"./game-mode":15}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./game-mode-menu"))&&r.__esModule?r:{default:r};function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=f(i);return t=a?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,i["default"]);var e,t,n,r=l(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e))._menuItems=Array.from({length:t.game.config.maxPlayers},function(e,t){return String(t+1)}),t}return e=o,(t=[{key:"getMenuTitle",value:function(){return IMAGINARY.i18n.t("choose-num-players")}},{key:"getMenuItems",value:function(){return this._menuItems}},{key:"getDefaultItemIndex",value:function(){return this.game.numPlayers-1}},{key:"processSelection",value:function(e){s(f(o.prototype),"processSelection",this).call(this,e),this.game.numPlayers=e+1}}])&&a(e.prototype,t),n&&a(e,n),o}();n.default=o},{"./game-mode-menu":11}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var E=r(e("events")),m=e("@popperjs/core"),h=r(e("./game-mode")),S=r(e("./terrain")),v=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e){var i;Object.prototype.hasOwnProperty.call(e,o)&&((i=r?Object.getOwnPropertyDescriptor(e,o):null)&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o])}n.default=e,t&&t.set(e,n);return n}(e("./waves")),T=r(e("./bot-strategies/base")),j=r(e("./bot-strategies/random")),M=r(e("./bot-strategies/tangent-intersection")),_=r(e("./bot-strategies/gradient-descent"));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function r(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function k(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=c(i);return t=a?(e=c(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=10,O=300,I=300,i=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(d,h["default"]);var e,t,n,r,o,i,a,u,s,c,l,f,p=w(d);function d(t){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),e=p.call(this,t);var n=Array(O).fill(null);return e.wavesPoints=function(e){return v.points(n,e,t.draw.width(),x)},e.bot=null,e}return e=d,t=[{key:"preLoadAssets",value:(f=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/ship.svg");case 2:return this.shipSymbol=e.sent,this.shipSymbol.attr({overflow:"visible"}),e.next=6,this.game.loadSVGSymbol("assets/img/treasure-closed.svg");case 6:return this.treasureClosedSymbol=e.sent,this.treasureClosedSymbol.attr({overflow:"visible"}),e.next=10,this.game.loadSVGSymbol("assets/img/treasure-opened.svg");case 10:this.treasureOpenedSymbol=e.sent,this.treasureOpenedSymbol.attr({overflow:"visible"});case 12:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"handleEnterMode",value:(l=k(regeneratorRuntime.mark(function e(){var t,f,p,n,r,o,i,a,d,h,u,s,c,l,v,m,y,g,b,w,x,O,P=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game,f=t.draw,p=t.config,n=t.numPlayers,r=t.botType,this.isGameOver=!1,this.discardInputs=!1,this.remainingTime=1e3*p.maxTime,this.tangents=[],this.$overlay=$('<div class="play" />').appendTo(this.game.overlay),o=$('<div class="game-stats"/>').appendTo(this.$overlay),i=$('<div class="remaining-time"/>').text(IMAGINARY.i18n.t("remaining-time")).appendTo(o),p.maxTime===Number.POSITIVE_INFINITY&&i.hide(),a=$('<div class="remaining-probes"/>').text(IMAGINARY.i18n.t("remaining-probes")).appendTo(o),this.$remainingTime=$('<span class="counter"/>').appendTo(i),this.$remainingProbes=$("<span />").appendTo(a),p.maxProbes===Number.POSITIVE_INFINITY&&a.hide(),this.$endingSequenceContainer=$("<div />").appendTo(this.$overlay),d=f.group().addClass("play").addClass("draw").translate(0,200),h=function(e){return R(e,String(P.game.config.maxProbes).length," ")},u=function(e,t,n){var r=(e+1)/(t+1),o=d.group();o.addClass(n).transform({translateX:r*f.width()});var i,a=o.use(P.shipSymbol).center(0,18),u=o.group().group(),s=u.line(0,18,0,85),c=u.circle(10).center(0,90),l=$('<span class="counter '.concat(n,'">').concat(p.maxProbes,"</span>")).appendTo(P.$remainingProbes);return a.front(),{id:e,cssClass:n,group:o,boat:a,probe:u,doProbe:function(e){var t=this;this.probing=!0,this.remainingProbes=Math.max(0,this.remainingProbes-1),this.$remainingProbes.text(h(this.remainingProbes)),0===this.remainingProbes&&this.$remainingProbes.addClass("blinking");var n=I+300*e,r=500/I*n,o=c.animate(r,0,"now").cy(n),i=s.animate(r,0,"now").plot(0,18,0,n-5),a=0<this.remainingProbes?90:28,u=o.animate(r,500).cy(a).after(function(){return t.probing=!1});i.animate(r,500).plot(0,18,0,a-5);return{down:new Promise(function(e){return o.after(e)}),up:new Promise(function(e){return u.after(e)})}},x:r,lastX:r,flipX:!1,_probing:!1,_probeEventEmitter:new E.default,set probing(e){var t=this._probing&&!e;this._probing=e,t&&this._probeEventEmitter.emit("probe-off")},get probing(){return this._probing},probingDone:(i=k(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.probing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise(function(e){return t._probeEventEmitter.addListener("probe-off",e)});case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),remainingProbes:p.maxProbes,$remainingProbes:l}},s=r&&"none"!==r,this.players=Array(n).fill(null).map(function(e,t){return u(t,n+(s?1:0),"player-".concat(t))}),s?(c=function(){switch(r){case"random":return j.default;case"newton":return BotStrategyNewton;case"gradient-descent":return _.default;case"tangent-intersection":return M.default;default:return T.default}}(),l=new c(.1,.9,.03),(v={}).type=r,v.player=u(n,n+1,"player-bot"),m=function(){return l.getNextProbeLocation(P.tangents,v.player,v.player.id,P.players)},v.targetX=m(),v.tangentListener=function(){return v.targetX=m()},this.players.push(v.player),this.events.addListener("new-tangent",v.tangentListener),this.bot=v):this.bot=null,this.water=d.group().polyline(this.wavesPoints(0)).addClass("water"),this.groundGroup=d.group(),y=function(){var e={marginWidth:.1};return(0,S.default)(20,300,e)},g=game.map?game.map:y(),b=g.map(function(e,t){return[f.width()*(t/(g.length-1)),300*e]}).concat([[2*f.width(),0],[2*f.width(),f.height()],[-f.width(),f.height()],[-f.width(),0]]),this.terrainHeights=g,this.treasureLocation=this.locateTreasure(),console.log("Map:",g),console.log("Treasure location:",this.treasureLocation),w=this.groundGroup.group(),x=w.group().addClass("treasure").transform({translateX:this.treasureLocation.x*f.width(),translateY:I+300*this.treasureLocation.y}),this.treasureClosed=x.use(this.treasureClosedSymbol),this.treasureOpened=x.use(this.treasureOpenedSymbol).hide(),this.ground=this.groundGroup.polygon(b).fill("black").addClass("ground").translate(0,I),O=this.groundGroup.group(),this.groundCoverLeft=O.rect(f.width(),f.height()).addClass("ground-cover").move(f.width()*(this.treasureLocation.x-1),-150),this.groundCoverRight=O.rect(f.width(),f.height()).addClass("ground-cover").move(f.width()*this.treasureLocation.x,-150),p.showSeaFloor&&O.hide(),this.groundGroup.back(),this.tangentGroup=d.group().translate(0,I);case 40:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"handleExitMode",value:(c=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!==this.bot&&this.events.removeListener("new-tangent",this.bot.tangentListener);case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"handleInputs",value:function(e,s,c){var l=this,t=this.game,n=(t.draw,t.config,t.numPlayers);if(!this.discardInputs)if(this.isGameOver){var r=-1!==e.findIndex(function(e,t){return P(e,s[t])});this.isGameOver&&r&&(this.discardInputs=!0,this.triggerEvent("done"))}else{var o,i,a,u=Math.max(0,this.remainingTime-c);if(this.remainingTime!==u&&(this.remainingTime=u,this.$remainingTime.text(R(Math.ceil(this.remainingTime/1e3),String(l.game.config.maxTime).length," ")),0===this.remainingTime&&this.$remainingTime.addClass("blinking")),0===this.remainingTime)return console.log("Time is up - GAME OVER!"),void this.gameOver(k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.showLoseSequenceTimeIsUp());case 1:case"end":return e.stop()}},e)})));if(0===this.players.reduce(function(e,t){return e+t.remainingProbes},0)&&!this.players.reduce(function(e,t){return e||t.probing},!1))return console.log("No probes left - GAME OVER!"),void this.gameOver(k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.showLoseSequenceNoProbesLeft());case 1:case"end":return e.stop()}},e)})));e=e.slice(0,n),s=s.slice(0,n),null!==this.bot&&(i=(o=d.buildBotInput(this.bot)).input,a=o.lastInput,e.push(i),s.push(a)),e.forEach(function(e,t){var n,r,o,i,a=P(e,s[t]),u=l.players[t];u.probing||l.isGameOver||(u.lastX=u.x,u.x+=c*e.direction*2e-4,u.x=Math.min(Math.max(.1,u.x),.9),u.flipX=0===e.direction?u.flipX:-1===e.direction,a&&0<u.remainingProbes&&(n=l.terrainHeight(u.x),o=(r=u.doProbe(n)).down,r.up,o.then(function(){return l.addTangent(u)}),i=Math.abs(u.x-l.treasureLocation.x)<=.015,o.then(k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&!l.isGameOver)return console.log("Treasure found - GAME OVER!"),e.next=4,l.gameOver(k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.showWinSequence(u));case 1:case"end":return e.stop()}},e)})));e.next=4;break;case 4:case"end":return e.stop()}},e)}))),console.log("Player ".concat(t," is probing at:"),{x:u.x,y:n})))})}}},{key:"draw",value:function(e,a){var t=this.game,u=t.draw;t.numPlayers;this.water.plot(this.wavesPoints(a/2e4)),this.players.forEach(function(e,t){var n=e.x,r=x*v.height(n,a/2e4),o=x*v.slope(n,a/2e4),i={rotate:45*Math.atan2(o,u.width())/Math.PI};e.flipX&&(i.flip="x"),e.boat.transform(i),e.group.transform({translateX:n*u.width(),translateY:r})})}},{key:"terrainHeight",value:function(e){return this.terrainHeightExt(e).value}},{key:"terrainHeightExt",value:function(e){var t=(this.terrainHeights.length-1)*e,n=Math.floor(t),r=n===this.terrainHeights.length-1?n-1:n,o=r+1,i=this.terrainHeights[r],a=this.terrainHeights[o];return{x:e,value:i+(t-r)*(a-i),slope:(a-i)*(this.terrainHeights.length-1)}}},{key:"locateTreasure",value:function(){var e,t=(e=this.terrainHeights,[].reduce.call(e,function(e,t,n,r){return t>r[e]?n:e},0));return{x:t/(this.terrainHeights.length-1),y:this.terrainHeights[t]}}},{key:"addTangent",value:function(e){this.tangentGroup.find(e.cssClass).each(function(){var e,t,n=(e=this.opacity(),(t=.25)+(e-t)*.9);this.animate(500).opacity(n)});var t=this.game.draw.width(),n=this.terrainHeightExt(e.x),r=n.x,o=n.value,i=n.slope,a=180*Math.atan2(300*i,t)/Math.PI;this.tangentGroup.line(.02*-t/2,0,.02*t/2,0).addClass(e.cssClass).transform({translateX:t*r,translateY:300*o,rotate:a}),this.tangents.push(n),this.tangents.sort(function(e,t){return e.x-t.x}),this.events.emit("new-tangent",n,this.tangents.indexOf(n),this.tangents)}},{key:"gameOver",value:(s=k(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isGameOver=!0,this.discardInputs=!0,n=this.uncoverGround(),e.next=5,Promise.all(this.players.map(function(e){return e.probingDone()}));case 5:return e.next=7,t();case 7:return this.discardInputs=!1,e.next=10,n;case 10:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"uncoverGround",value:(u=k(regeneratorRuntime.mark(function e(){var n,t,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0<i.length&&void 0!==i[0]?i[0]:2e3,t=this.game.draw,0!==n){e.next=7;break}this.groundCoverLeft.dx(-t.width()),this.groundCoverRight.dx(t.width()),e.next=11;break;case 7:return r=function(e,t){return e.animate(n).dx(t)},o=function(t,n){return new Promise(function(e){return r(t,n).after(e)})},e.abrupt("return",Promise.all([o(this.groundCoverLeft,-t.width()),o(this.groundCoverRight,t.width())]));case 11:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"showWinSequence",value:(a=k(regeneratorRuntime.mark(function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=IMAGINARY.i18n.t("win-announcement-begin")+(t.id+1)+IMAGINARY.i18n.t("win-announcement-end"),r=function(e){return e[Math.floor(Math.random()*(e.length-1))]}(IMAGINARY.i18n.t("treasures")),o=function(){i.treasureOpened.show(),i.treasureClosed.hide()},e.next=6,this.showGameOverSequence(n,r,o,[t.cssClass]);case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"showLoseSequenceTimeIsUp",value:(i=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showGameOverSequence(IMAGINARY.i18n.t("time-is-up"),IMAGINARY.i18n.t("game-over"));case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"showLoseSequenceNoProbesLeft",value:(o=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showGameOverSequence(IMAGINARY.i18n.t("no-probes-left"),IMAGINARY.i18n.t("game-over"));case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"showGameOverSequence",value:(r=k(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,u,s,c,l,f,p,d,h,v=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=2<v.length&&void 0!==v[2]?v[2]:Function.prototype,o=3<v.length&&void 0!==v[3]?v[3]:[],i=this.game.draw,a=function(t){return new Promise(function(e){return setTimeout(e,t)})},u=IMAGINARY.i18n.t("press-to-restart"),s=$("<div>").text(t),c=$("<div>").text(n).css("visibility","hidden"),l=$('<div class="blinking">').text(u).css("visibility","hidden"),f=$('<div class="ending-sequences-text" />').addClass(o).append([s,c,$("<br>"),l]),p=100*this.treasureLocation.x,d=5e4/i.height(),h=$('<div class="ending-sequences-text-anchor" />').css({left:"".concat(p,"%"),top:"".concat(d,"%"),width:"0px",height:"0px"}),e.next=14,a(0);case 14:return this.$endingSequenceContainer.empty().append([h,f]),(0,m.createPopper)(h.get(0),f.get(0),{placement:"top"}),e.next=18,a(1e3);case 18:return c.css("visibility","visible"),r(),e.next=22,a(1e3);case 22:l.css("visibility","visible");case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})}],n=[{key:"buildBotInput",value:function(e){var t={direction:0,action:!1},n=e.player,r=e.targetX,o=n.x,i=n.lastX,a=y(o<i?[o,i]:[i,o],2),u=a[0],s=a[1];return u<=r&&r<=s?(n.lastX=o,n.x=r,t.action=!0):t.direction=Math.sign(r-n.x),{input:t,lastInput:{direction:0,action:!1}}}}],t&&g(e.prototype,t),n&&g(e,n),d}();function P(e,t){return e.action&&!t.action}function R(e,t,n){return String(e).padStart(t,n)}n.default=i},{"./bot-strategies/base":1,"./bot-strategies/gradient-descent":2,"./bot-strategies/random":3,"./bot-strategies/tangent-intersection":4,"./game-mode":15,"./terrain":18,"./waves":19,"@popperjs/core":21,events:23}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=r(e("./game-mode")),c=r(e("./wavy-animation"));function r(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function f(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){l(r,t,n,o,i,"next",e)}function i(e){l(r,t,n,o,i,"throw",e)}o(void 0)})}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(i){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,n,r,o=v(i);return t=a?(e=v(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),n=this,!(r=t)||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,s["default"]);var e,t,n,r,o,i,a=h(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.apply(this,arguments)}return e=u,(t=[{key:"preLoadAssets",value:(i=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.game.loadSVGSymbol("assets/img/descent-logo.svg");case 2:this.logoSprite=e.sent,this.poly=this.logoSprite.findOne("#descent");case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"handleEnterMode",value:(o=f(regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.game.draw,(n=document.createElement("div")).classList.add("title-press-to-start"),n.textContent=IMAGINARY.i18n.t("press-to-start"),this.game.overlay.append(n),r="#34c6ff",o=t.use(this.logoSprite).size(1200,400).stroke({color:"#00368a",width:2}).fill("transparent").center(960,432),this.logoSprite.findOne("#gradient").stroke("none").fill(r).opacity(0).animate({duration:7e3}).opacity(1),o.animate({duration:5e3}).stroke({color:r}),this.wavyStep=(0,c.default)(this.logoSprite,{duration:3500}),this.animCounter=0;case 13:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"handleExitMode",value:(r=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.wavyStep(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"handleInputs",value:function(e,n){e.find(function(e,t){return e.action&&!n[t].action})&&this.triggerEvent("done")}},{key:"draw",value:function(e,t){this.wavyStep(e,t)}}])&&p(e.prototype,t),n&&p(e,n),u}();n.default=o},{"./game-mode":15,"./wavy-animation":20}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("events"))&&r.__esModule?r:{default:r};function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function c(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.events=new u.default}var e,n,r,o,i,a;return e=t,(n=[{key:"preLoadAssets",value:(a=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)})},{key:"handleEnterMode",value:(i=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"handleExitMode",value:(o=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"handleInputs",value:function(){}},{key:"draw",value:function(){}},{key:"triggerEvent",value:function(e){this.events.emit(e)}}])&&l(e.prototype,n),r&&l(e,r),t}();n.default=o},{events:23}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("@wessberg/pointer-events");var c=r(e("./game-mode-play")),l=r(e("./game-mode-title")),f=r(e("./game-mode-numplayers")),p=r(e("./controls/gamepad")),d=r(e("./controls/screen")),h=r(e("./controls/keyboard")),v=r(e("./full-screen-toggle")),m=r(e("./game-mode-bottype"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function y(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.container=e,this.config=t,this.inputs=this.createInputs(),this.inputsLast=this.createInputs(),this.gameLoop=null,this.isPaused=!1,this.modes={},this.currentMode=null,this.controls={},this.debugControlsPane=null,this.botType=this.config.botType,this.numPlayers=this.config.maxPlayers,this.map=t.map}var e,t,r,o,i,a,u,s;return e=n,(t=[{key:"init",value:(s=y(regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.createElement("div")).classList.add("min-aspect-ratio"),this.container.append(t),(n=document.createElement("div")).classList.add("game-view"),t.append(n),this.svgDoc=SVG().addTo(n),this.svgDoc.viewbox(0,0,1920,864).attr("preserveAspectRatio","xMinYMin meet"),this.draw=this.svgDoc.nested().size(1920,864),this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),t.append(this.overlay),this.config.useScreenControls&&(this.controls.screen=new d.default(this.config.maxPlayers),t.appendChild(this.controls.screen.element)),this.config.useGamepads&&(this.controls.gamepad=new p.default(this.config.maxPlayers)),this.config.fullScreenButton&&(this.fullScreenToggle=new v.default,t.appendChild(this.fullScreenToggle.element)),this.config.useKeyboardControls&&(this.controls.keyboard=new h.default(this.config.maxPlayers)),this.config.debugControls&&(this.debugControlsPane=document.createElement("div"),this.debugControlsPane.classList.add("debug-pane"),this.debugControlsPane.classList.add("debug-pane-controls"),t.appendChild(this.debugControlsPane)),e.next=20,this.registerMode("title",new l.default(this));case 20:return e.next=22,this.registerMode("bottype",new m.default(this));case 22:return e.next=24,this.registerMode("numplayers",new f.default(this));case 24:return e.next=26,this.registerMode("play",new c.default(this));case 26:if(this.config.continuousGame)return this.transition("play","done","play"),e.next=30,this.setMode("play");e.next=32;break;case 30:e.next=42;break;case 32:return r=null===this.config.botType,o=1<this.config.maxPlayers,i=r?"bottype":"play",a=o?"numplayers":i,this.transition("title","done",a),this.transition("numplayers","done",i),this.transition("bottype","done","play"),this.transition("play","done","title"),e.next=42,this.setMode("title");case 42:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"loadSVGSymbol",value:(u=y(regeneratorRuntime.mark(function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(1<i.length&&void 0!==i[1])||i[1],e.next=3,fetch(t);case 3:if((r=e.sent).status<200||300<=r.status)throw new Error("Server returned status ".concat(r.status," (").concat(r.statusText,") loading ").concat(t,"."));e.next=6;break;case 6:return e.t0=this.svgDoc.symbol(),e.next=9,r.text();case 9:return e.t1=e.sent,o=e.t0.svg.call(e.t0,e.t1),n&&o.find("style").forEach(function(e){return e.remove()}),e.abrupt("return",o);case 13:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"initInputs",value:function(){this.inputs=this.createInputs()}},{key:"createInputs",value:function(){return Array(this.config.maxPlayers).fill(null).map(function(){return{direction:0,action:!1}})}},{key:"readInputs",value:function(){this.inputsLast=this.inputs;function n(e,t){return{direction:t.right?1:t.left?-1:e.direction,action:t.action||e.action}}var r=Object.values(this.controls).map(function(e){return e.getStates()});this.inputs=this.createInputs().map(function(e,t){return r.map(function(e){return e[t]}).reduce(n,e)}),this.debugControlsPane&&(this.debugControlsPane.textContent=this.inputs.map(function(e,t){return"C".concat(t,": d=").concat(e.direction," a=").concat(e.action?"T":"F")}).join("    "))}},{key:"run",value:function(){var n,r,o=this;this.gameLoop||(r=n=0,this.gameLoop=function(e){var t;o.isPaused||(o.readInputs(),t=(e-=r+=Math.max(0,e-r-n-125))-n,o.currentMode.handleInputs(o.inputs,o.inputsLast,t,e),o.currentMode.draw(t,e),n=e,window.requestAnimationFrame(o.gameLoop))}),window.requestAnimationFrame(this.gameLoop)}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resume",value:function(){this.isPaused&&(this.isPaused=!1,this.run())}},{key:"registerMode",value:(a=y(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.modes[t]=n,e.next=3,n.preLoadAssets();case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"setMode",value:(i=y(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pause(),this.currentMode)return e.next=4,this.currentMode.handleExitMode();e.next=4;break;case 4:if(void 0===this.modes[t])throw new Error("Can't change to unknown mode ".concat(t));e.next=6;break;case 6:return this.currentMode=this.modes[t],this.draw.clear(),this.overlay.innerHTML="",e.next=11,this.currentMode.handleEnterMode();case 11:this.resume();case 12:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"transition",value:function(e,t,n,r){var o=this,i=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==r?r:null;if(void 0===this.modes[e])throw new Error("Can't define transition from unknown game mode '".concat(e,"'"));if(i&&void 0===this.modes[i])throw new Error("Can't define transition to unknown game mode '".concat(i,"'"));this.modes[e].events.on(t,function(){if(o.currentMode!==o.modes[e])throw new Error("Mode ".concat(e," triggered the event ").concat(t," while not active. Something was not cleaned up?"));null!==i&&o.setMode(i),a&&"function"==typeof a&&a()})}},{key:"setMap",value:function(e){this.map=!Array.isArray(e)||e.length<2?null:e}},{key:"showSeaFloor",value:(o=y(regeneratorRuntime.mark(function e(){var t,n=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(0<n.length&&void 0!==n[0])||n[0],!this.currentMode||"function"!=typeof this.currentMode.uncoverGround){e.next=9;break}if(t)return e.next=5,this.currentMode.uncoverGround();e.next=7;break;case 5:e.next=9;break;case 7:return e.next=9,this.currentMode.uncoverGround(0);case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})}])&&g(e.prototype,t),r&&g(e,r),n}();n.default=o},{"./controls/gamepad":6,"./controls/keyboard":7,"./controls/screen":8,"./full-screen-toggle":9,"./game-mode-bottype":10,"./game-mode-numplayers":12,"./game-mode-play":13,"./game-mode-title":14,"@wessberg/pointer-events":22}],17:[function(e,t,n){"use strict";var r,a=(r=e("./game"))&&r.__esModule?r:{default:r};function s(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function o(u){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=u.apply(e,a);function o(e){s(r,t,n,o,i,"next",e)}function i(e){s(r,t,n,o,i,"throw",e)}o(void 0)})}}var i,u={defaultLanguage:"en",useGamepads:!0,useScreenControls:!0,useKeyboardControls:!0,botType:null,maxPlayers:2,maxTime:Number.POSITIVE_INFINITY,maxProbes:Number.POSITIVE_INFINITY,continuousGame:!1,showSeaFloor:!1,fullScreenButton:!0,debugControls:!1,map:null};function c(){return(c=o(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(200<=(n=e.sent).status&&n.status<300)return e.prev=4,e.next=7,n.json();e.next=17;break;case 7:return r=e.sent,o=function(e){return(t=String(e).toLowerCase()).charAt(0).toUpperCase()+t.slice(1);var t},Number(o(r.maxTime))===Number.POSITIVE_INFINITY&&(r.maxTime=Number.POSITIVE_INFINITY),Number(o(r.maxProbes))===Number.POSITIVE_INFINITY&&(r.maxProbes=Number.POSITIVE_INFINITY),e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Error parsing config file: ".concat(e.t0.message));case 17:throw new Error("Server returned status ".concat(n.status," (").concat(n.statusText,") loading config file."));case 18:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}i=o(regeneratorRuntime.mark(function e(){var t,n,r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new URL("./config.json",window.location.href),n=function(){var e=new URLSearchParams(window.location.search);if(e.has("config")){var t=e.get("config");if(/\.\./.test(t))throw new Error("Custom config path ".concat(t," must not contain references to parent directories and will be ignored."));return new URL(t,window.location.href)}return null}(),r=n||t,e.t0=Object,e.t1={},e.t2=u,e.next=9,function(e){return c.apply(this,arguments)}(r.href);case 9:return e.t3=e.sent,o=e.t0.assign.call(e.t0,e.t1,e.t2,e.t3),e.next=13,IMAGINARY.i18n.init({queryStringVariable:"lang",translationsDirectory:"tr",defaultLanguage:o.defaultLanguage||"en"});case 13:return i=new a.default(document.querySelector(".main"),o),window.game=i,e.next=17,i.init();case 17:e.next=22;break;case 19:e.prev=19,e.t4=e.catch(0),console.error(e.t4);case 22:case"end":return e.stop()}},e,null,[[0,19]])})),function(){i.apply(this,arguments)}()},{"./game":16}],18:[function(e,t,n){"use strict";function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return n=Object.assign({},o,n),function(e,t){for(var n=e[0][0],r=e[e.length-1][0]-n,o=Array(t),i=0,a=0;a<o.length-1;++a){for(;a>=(t-1)*(e[i][0]-n)/r;)++i;var u=(n+a/(t-1)*r-e[i-1][0])/(e[i][0]-e[i-1][0]);o[a]=e[i-1][1]+(e[i][1]-e[i-1][1])*u}return o[o.length-1]=e[e.length-1][1],o}(function e(n,t){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(0===t)return n;var o=n.length;var i=n.map(function(e,t){return[[.75*e[0]+.25*n[(t+1)%o][0],.75*e[1]+.25*n[(t+1)%o][1]],[.25*e[0]+.75*n[(t+1)%o][0],.25*e[1]+.75*n[(t+1)%o][1]]]}).flat();r&&(--i.length,i[0]=n[0],i[i.length-1]=n[n.length-1]);return e(i,t-1,r)}(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.2,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.25,s=new Float32Array(e),o=[Math.floor(t*e),Math.floor(t+(1-2*t)*e)],i=[[0,Math.random()*n],[o[0],n],[o[0]+1+Math.floor(Math.random()*(o[1]-o[0])),1],[o[1],n],[e-1,Math.random()*n]];0<e&&(i.forEach(function(e){var t=c(e,2),n=t[0],r=t[1];return s[n]=r}),i.reduce(function(e,t){var n=c(e,2),r=n[0],o=n[1],i=c(t,2),a=i[0],u=i[1];return function e(t,n,r){{var o,i,a;0<t.length&&(u=t.length,s=n,c=r,o={index:Math.floor(u*Math.random()),height:Math.max(s,c)*Math.random()},i=o.index,a=o.height,t[i]=a,e(t.subarray(0,i),n,a),e(t.subarray(i+1,t.length),a,r))}var u,s,c;return t}(s.subarray(r+1,a),o,u),[a,u]}));return r=Math.max(0,Math.min(r,1)),new Array(s.length).fill(null).map(function(e,t){return[(t+r*(Math.random()-.5))/(s.length-1),s[t]]})}(e,n.marginWidth,n.marginHeight,n.jitter),n.smoothing),t).map(function(e){return t=e,n=5,r=Math.pow(10,n),Math.round(t*r)/r;var t,n,r})};var o={marginWidth:.1,marginHeight:.1,jitter:.25,smoothing:6}},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.height=u,n.slope=function(e,t){return t=t*r%r,(100*Math.cos(100*e+t)+50*Math.cos(50*e-t)+30*Math.cos(30*e+2*t)+10*Math.cos(10*e-3*t))/4},n.heights=function(n,r){return n.forEach(function(e,t){return n[t]=u(t/(n.length-1),r)}),n},n.points=l,n.animatedSVG=function(e,t,n,r,o,i){var a=Array(t).fill(null),u=Array(n).fill(null).map(function(e,t){return Array.from(l(a,t/(n-1),r,o))}),s=e.polyline(u[0]),c=u.map(function(e){return s.plot(e).attr("points")}).join(";\n").replace(/;[[:space:]]*;]/g,";");return s.element("animate").attr({attributeName:"points",dur:"".concat(i,"ms"),repeatCount:"indefinite",values:c}),s};var r=12*Math.PI;function u(e,t){return t=t*r%r,(Math.sin(100*e+t)+Math.sin(50*e-t)+Math.sin(30*e+2*t)+Math.sin(10*e-3*t))/4}function l(r,o){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return r.forEach(function(e,t){var n=t/(r.length-1);r[t]=[i*n,a*u(n,o)]}),r}},{}],20:[function(e,t,n){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},{xAmplitude:50,duration:5e3,cycles:3},t),n=e.find("polygon"),r=n.map(function(e){return e.plot()}),a=Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.flat().map(function(e){return s(e,2)[1]}))),u=0;return function(e,t){var o;u>i.duration||(u+=e,o=Math.min(u,i.duration)/i.duration,n.forEach(function(e,t){e.plot(r[t].map(function(e){var t=s(e,2),n=t[0],r=t[1];return[n+Math.sin((r/a+o*i.cycles)*Math.PI*2)*i.xAmplitude*(1-Math.pow(o,2)),r]}))}))}}},{}],21:[function(e,t,u){(function(D){"use strict";function j(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function E(e){if("[object Window]"===e.toString())return e;var t=e.ownerDocument;return t?t.defaultView:window}function w(e){var t=E(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(e){return e instanceof E(e).Element||e instanceof Element}function x(e){return e instanceof E(e).HTMLElement||e instanceof HTMLElement}function l(e){return e?(e.nodeName||"").toLowerCase():null}function _(e){return(M(e)?e.ownerDocument:e.document).documentElement}function O(e){return j(_(e)).left+w(e).scrollLeft}function P(e){return E(e).getComputedStyle(e)}function f(e){var t=P(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function S(e,t,n){void 0===n&&(n=!1);var r,o,i=_(t),a=j(e),u=x(t),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return!u&&(u||n)||("body"===l(t)&&!f(i)||(s=(r=t)!==E(r)&&x(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:w(r)),x(t)?((c=j(t)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=O(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function ee(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function p(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||e.host||_(e)}function T(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(l(t))?t.ownerDocument.body:x(t)&&f(t)?t:e(p(t))}(e),r="body"===l(n),o=E(n),i=r?[o].concat(o.visualViewport||[],f(n)?n:[]):n,a=t.concat(i);return r?a:a.concat(T(p(i)))}function r(e){if(!x(e)||"fixed"===P(e).position)return null;var t=e.offsetParent;if(t){var n=_(t);if("body"===l(t)&&"static"===P(t).position&&"static"!==P(n).position)return n}return t}function te(e){for(var t=E(e),n=r(e);n&&0<=["table","td","th"].indexOf(l(n))&&"static"===P(n).position;)n=r(n);return(!n||"body"!==l(n)||"static"!==P(n).position)&&(n||function(e){for(var t=p(e);x(t)&&["html","body"].indexOf(l(t))<0;){var n=P(t);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return t;t=t.parentNode}return null}(e))||t}Object.defineProperty(u,"__esModule",{value:!0});var ne="top",re="bottom",oe="right",ie="left",Y="auto",N=[ne,re,oe,ie],ae="start",d="end",k="clippingParents",I="viewport",R="popper",L="reference",X=N.reduce(function(e,t){return e.concat([t+"-"+ae,t+"-"+d])},[]),G=[].concat(N,[Y]).reduce(function(e,t){return e.concat([t,t+"-"+ae,t+"-"+d])},[]),A=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function C(e){var r=new Map,o=new Set,t=[];return e.forEach(function(e){r.set(e.name,e)}),e.forEach(function(e){o.has(e.name)||!function n(e){o.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){var t;o.has(e)||(t=r.get(e))&&n(t)}),t.push(e)}(e)}),t}function q(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}var B='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',H='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',$=["name","enabled","phase","fn","effect","requires","options"];function ue(e){return e.split("-")[0]}function h(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function V(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function v(e,t){return t===I?V((d=E(p=e),h=_(p),v=d.visualViewport,m=h.clientWidth,y=h.clientHeight,b=g=0,v&&(m=v.width,y=v.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(g=v.offsetLeft,b=v.offsetTop)),{width:m,height:y,x:g+O(p),y:b})):x(t)?((f=j(l=t)).top=f.top+l.clientTop,f.left=f.left+l.clientLeft,f.bottom=f.top+l.clientHeight,f.right=f.left+l.clientWidth,f.width=l.clientWidth,f.height=l.clientHeight,f.x=f.left,f.y=f.top,f):V((n=_(e),r=_(n),o=w(n),i=n.ownerDocument.body,a=Math.max(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=Math.max(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-o.scrollLeft+O(n),c=-o.scrollTop,"rtl"===P(i||r).direction&&(s+=Math.max(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:u,x:s,y:c}));var n,r,o,i,a,u,s,c,l,f,p,d,h,v,m,y,g,b}function F(r,e,t){var n,o,i,a="clippingParents"===e?(o=T(p(n=r)),M(i=0<=["absolute","fixed"].indexOf(P(n).position)&&x(n)?te(n):n)?o.filter(function(e){return M(e)&&h(e,i)&&"body"!==l(e)}):[]):[].concat(e),u=[].concat(a,[t]),s=u[0],c=u.reduce(function(e,t){var n=v(r,t);return e.top=Math.max(n.top,e.top),e.right=Math.min(n.right,e.right),e.bottom=Math.min(n.bottom,e.bottom),e.left=Math.max(n.left,e.left),e},v(r,s));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function se(e){return e.split("-")[1]}function ce(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function W(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?ue(o):null,a=o?se(o):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(i){case ne:t={x:u,y:n.y-r.height};break;case re:t={x:u,y:n.y+n.height};break;case oe:t={x:n.x+n.width,y:s};break;case ie:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=i?ce(i):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case ae:t[c]=Math.floor(t[c])-Math.floor(n[l]/2-r[l]/2);break;case d:t[c]=Math.floor(t[c])+Math.ceil(n[l]/2-r[l]/2)}}return t}function le(){return{top:0,right:0,bottom:0,left:0}}function U(e){return Object.assign(Object.assign({},le()),e)}function z(n,e){return e.reduce(function(e,t){return e[t]=n,e},{})}function fe(e,t){void 0===t&&(t={});var r,n=t.placement,o=void 0===n?e.placement:n,i=t.boundary,a=void 0===i?k:i,u=t.rootBoundary,s=void 0===u?I:u,c=t.elementContext,l=void 0===c?R:c,f=t.altBoundary,p=void 0!==f&&f,d=t.padding,h=void 0===d?0:d,v=U("number"!=typeof h?h:z(h,N)),m=l===R?L:R,y=e.elements.reference,g=e.rects.popper,b=e.elements[p?m:l],w=F(M(b)?b:b.contextElement||_(e.elements.popper),a,s),x=j(y),O=W({reference:x,element:g,strategy:"absolute",placement:o}),P=V(Object.assign(Object.assign({},g),O)),E=l===R?P:x,S={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},T=e.modifiersData.offset;return l===R&&T&&(r=T[o],Object.keys(S).forEach(function(e){var t=0<=[oe,re].indexOf(e)?1:-1,n=0<=[ne,re].indexOf(e)?"y":"x";S[e]+=r[n]*t})),S}var K="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",o={placement:"bottom",modifiers:[],strategy:"absolute"};function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function e(e){void 0===e&&(e={});var t=e.defaultModifiers,g=void 0===t?[]:t,n=e.defaultOptions,b=void 0===n?o:n;return function(p,d,t){void 0===t&&(t=b);var n,r,h={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},o),b),modifiersData:{},elements:{reference:p,popper:d},attributes:{},styles:{}},v=[],l=!1,m={state:h,setOptions:function(e){y(),h.options=Object.assign(Object.assign(Object.assign({},b),h.options),e),h.scrollParents={reference:M(p)?T(p):p.contextElement?T(p.contextElement):[],popper:T(d)};var t,n,r,o,i,a,u,s,c,l,f=(r=[].concat(g,h.options.modifiers),o=r.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e},{}),t=Object.keys(o).map(function(e){return o[e]}),n=C(t),A.reduce(function(e,t){return e.concat(n.filter(function(e){return e.phase===t}))},[]));return h.orderedModifiers=f.filter(function(e){return e.enabled}),"production"!==D.env.NODE_ENV&&(s=[].concat(f,h.options.modifiers),c=function(e){return e.name},l=new Set,i=s.filter(function(e){var t=c(e);if(!l.has(t))return l.add(t),!0}),(u=i).forEach(function(n){Object.keys(n).forEach(function(e){switch(e){case"name":"string"!=typeof n.name&&console.error(q(B,String(n.name),'"name"','"string"','"'+String(n.name)+'"'));break;case"enabled":"boolean"!=typeof n.enabled&&console.error(q(B,n.name,'"enabled"','"boolean"','"'+String(n.enabled)+'"'));case"phase":A.indexOf(n.phase)<0&&console.error(q(B,n.name,'"phase"',"either "+A.join(", "),'"'+String(n.phase)+'"'));break;case"fn":"function"!=typeof n.fn&&console.error(q(B,n.name,'"fn"','"function"','"'+String(n.fn)+'"'));break;case"effect":"function"!=typeof n.effect&&console.error(q(B,n.name,'"effect"','"function"','"'+String(n.fn)+'"'));break;case"requires":Array.isArray(n.requires)||console.error(q(B,n.name,'"requires"','"array"','"'+String(n.requires)+'"'));break;case"requiresIfExists":Array.isArray(n.requiresIfExists)||console.error(q(B,n.name,'"requiresIfExists"','"array"','"'+String(n.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+n.name+'" modifier, valid properties are '+$.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+e+'" was provided.')}n.requires&&n.requires.forEach(function(t){null==u.find(function(e){return e.name===t})&&console.error(q(H,String(n.name),t,t))})})}),ue(h.options.placement)===Y&&(h.orderedModifiers.find(function(e){return"flip"===e.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))),[(a=P(d)).marginTop,a.marginRight,a.marginBottom,a.marginLeft].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))),h.orderedModifiers.forEach(function(e){var t,n=e.name,r=e.options,o=void 0===r?{}:r,i=e.effect;"function"==typeof i&&(t=i({state:h,name:n,instance:m,options:o}),v.push(t||function(){}))}),m.update()},forceUpdate:function(){if(!l){var e=h.elements,t=e.reference,n=e.popper;if(J(t,n)){h.rects={reference:S(t,te(n),"fixed"===h.options.strategy),popper:ee(n)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(e){return h.modifiersData[e.name]=Object.assign({},e.data)});for(var r,o,i,a,u,s=0,c=0;c<h.orderedModifiers.length;c++){if("production"!==D.env.NODE_ENV&&100<(s+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}!0!==h.reset?(o=(r=h.orderedModifiers[c]).fn,a=void 0===(i=r.options)?{}:i,u=r.name,"function"==typeof o&&(h=o({state:h,options:a,name:u,instance:m})||h)):(h.reset=!1,c=-1)}}else"production"!==D.env.NODE_ENV&&console.error(K)}},update:(n=function(){return new Promise(function(e){m.forceUpdate(),e(h)})},function(){return r=r||new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(n())})})}),destroy:function(){y(),l=!0}};if(!J(p,d))return"production"!==D.env.NODE_ENV&&console.error(K),m;function y(){v.forEach(function(e){return e()}),v=[]}return m.setOptions(t).then(function(e){!l&&t.onFirstUpdate&&t.onFirstUpdate(e)}),m}}var m={passive:!0};var Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c(e){var t,n,r,o,i,a,u=e.popper,s=e.popperRect,c=e.placement,l=e.offsets,f=e.position,p=e.gpuAcceleration,d=e.adaptive,h=(r=(n=l).x,o=n.y,i=window.devicePixelRatio||1,{x:Math.round(r*i)/i||0,y:Math.round(o*i)/i||0}),v=h.x,m=h.y,y=l.hasOwnProperty("x"),g=l.hasOwnProperty("y"),b=ie,w=ne,x=window;d&&((a=te(u))===E(u)&&(a=_(u)),c===ne&&(w=re,m-=a.clientHeight-s.height,m*=p?1:-1),c===ie&&(b=oe,v-=a.clientWidth-s.width,v*=p?1:-1));var O,P=Object.assign({position:f},d&&Q);return p?Object.assign(Object.assign({},P),{},((O={})[w]=g?"0":"",O[b]=y?"0":"",O.transform=(x.devicePixelRatio||1)<2?"translate("+v+"px, "+m+"px)":"translate3d("+v+"px, "+m+"px, 0)",O)):Object.assign(Object.assign({},P),{},((t={})[w]=g?m+"px":"",t[b]=y?v+"px":"",t.transform="",t))}var t={left:"right",right:"left",bottom:"top",top:"bottom"};function Z(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}var n={start:"end",end:"start"};function pe(e){return e.replace(/start|end/g,function(e){return n[e]})}function de(e,t,n){return Math.max(e,Math.min(t,n))}function y(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function g(t){return[ne,oe,re,ie].some(function(e){return 0<=t[e]})}var i=[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,u=void 0===a||a,s=E(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(e){e.addEventListener("scroll",n.update,m)}),u&&s.addEventListener("resize",n.update,m),function(){i&&c.forEach(function(e){e.removeEventListener("scroll",n.update,m)}),u&&s.removeEventListener("resize",n.update,m)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=W({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t,n=e.state,r=e.options,o=r.gpuAcceleration,i=void 0===o||o,a=r.adaptive,u=void 0===a||a;"production"!==D.env.NODE_ENV&&(t=P(n.elements.popper).transitionProperty||"",u&&["transform","top","right","bottom","left"].some(function(e){return 0<=t.indexOf(e)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" ")));var s={placement:ue(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign(Object.assign({},n.styles.popper),c(Object.assign(Object.assign({},s),{},{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign(Object.assign({},n.styles.arrow),c(Object.assign(Object.assign({},s),{},{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1})))),n.attributes.popper=Object.assign(Object.assign({},n.attributes.popper),{},{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},n=o.attributes[e]||{},r=o.elements[e];x(r)&&l(r)&&(Object.assign(r.style,t),Object.keys(n).forEach(function(e){var t=n[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var o=e.state,i={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(o.elements.popper.style,i.popper),o.elements.arrow&&Object.assign(o.elements.arrow.style,i.arrow),function(){Object.keys(o.elements).forEach(function(e){var t=o.elements[e],n=o.attributes[e]||{},r=Object.keys(o.styles.hasOwnProperty(e)?o.styles[e]:i[e]).reduce(function(e,t){return e[t]="",e},{});x(t)&&l(t)&&(Object.assign(t.style,r),Object.keys(n).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var l=e.state,t=e.options,n=e.name,r=t.offset,f=void 0===r?[0,0]:r,o=G.reduce(function(e,t){var n,r,o,i,a,u,s,c;return e[t]=(n=t,r=l.rects,o=f,i=ue(n),a=0<=[ie,ne].indexOf(i)?-1:1,u="function"==typeof o?o(Object.assign(Object.assign({},r),{},{placement:n})):o,s=(s=u[0])||0,c=((c=u[1])||0)*a,0<=[ie,oe].indexOf(i)?{x:c,y:s}:{x:s,y:c}),e},{}),i=o[l.placement],a=i.x,u=i.y;null!=l.modifiersData.popperOffsets&&(l.modifiersData.popperOffsets.x+=a,l.modifiersData.popperOffsets.y+=u),l.modifiersData[n]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var o=t.mainAxis,i=void 0===o||o,a=t.altAxis,u=void 0===a||a,s=t.fallbackPlacements,c=t.padding,l=t.boundary,f=t.rootBoundary,p=t.altBoundary,d=t.flipVariations,h=void 0===d||d,v=t.allowedAutoPlacements,m=n.options.placement,y=ue(m),g=s||(y===m||!h?[Z(m)]:function(e){if(ue(e)===Y)return[];var t=Z(e);return[pe(e),t,pe(t)]}(m)),b=[m].concat(g).reduce(function(e,t){return e.concat(ue(t)===Y?function(n,e){void 0===e&&(e={});var t=e.placement,r=e.boundary,o=e.rootBoundary,i=e.padding,a=e.flipVariations,u=e.allowedAutoPlacements,s=void 0===u?G:u,c=se(t),l=c?a?X:X.filter(function(e){return se(e)===c}):N,f=l.filter(function(e){return 0<=s.indexOf(e)});0===f.length&&(f=l,"production"!==D.env.NODE_ENV&&console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var p=f.reduce(function(e,t){return e[t]=fe(n,{placement:t,boundary:r,rootBoundary:o,padding:i})[ue(t)],e},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(n,{placement:t,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:v}):t)},[]),w=n.rects.reference,x=n.rects.popper,O=new Map,P=!0,E=b[0],S=0;S<b.length;S++){var T=b[S],j=ue(T),M=se(T)===ae,_=0<=[ne,re].indexOf(j),k=_?"width":"height",I=fe(n,{placement:T,boundary:l,rootBoundary:f,altBoundary:p,padding:c}),R=_?M?oe:ie:M?re:ne;w[k]>x[k]&&(R=Z(R));var L=Z(R),A=[];if(i&&A.push(I[j]<=0),u&&A.push(I[R]<=0,I[L]<=0),A.every(function(e){return e})){E=T,P=!1;break}O.set(T,A)}if(P)for(var C=h?3:1;0<C;C--){if("break"===function(n){var e=b.find(function(e){var t=O.get(e);if(t)return t.slice(0,n).every(function(e){return e})});if(e)return E=e,"break"}(C))break}n.placement!==E&&(n.modifiersData[r]._skip=!0,n.placement=E,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,n,r,o,i,a,u,s,c,l,f,p,d,h,v,m,y,g,b,w,x,O,P,E,S,T,j,M=e.state,_=e.options,k=e.name,I=_.mainAxis,R=void 0===I||I,L=_.altAxis,A=void 0!==L&&L,C=_.boundary,D=_.rootBoundary,Y=_.altBoundary,N=_.padding,X=_.tether,G=void 0===X||X,q=_.tetherOffset,B=void 0===q?0:q,H=fe(M,{boundary:C,rootBoundary:D,padding:N,altBoundary:Y}),$=ue(M.placement),V=se(M.placement),F=!V,W=ce($),U="x"===W?"y":"x",z=M.modifiersData.popperOffsets,K=M.rects.reference,J=M.rects.popper,Q="function"==typeof B?B(Object.assign(Object.assign({},M.rects),{},{placement:M.placement})):B,Z={x:0,y:0};z&&(R&&(t="y"===W?ne:ie,n="y"===W?re:oe,r="y"===W?"height":"width",o=z[W],i=z[W]+H[t],a=z[W]-H[n],u=G?-J[r]/2:0,s=V===ae?K[r]:J[r],c=V===ae?-J[r]:-K[r],l=M.elements.arrow,f=G&&l?ee(l):{width:0,height:0},d=(p=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:le())[t],h=p[n],v=de(0,K[r],f[r]),m=F?K[r]/2-u-v-d-Q:s-v-d-Q,y=F?-K[r]/2+u+v+h+Q:c+v+h+Q,b=(g=M.elements.arrow&&te(M.elements.arrow))?"y"===W?g.clientTop||0:g.clientLeft||0:0,w=M.modifiersData.offset?M.modifiersData.offset[M.placement][W]:0,x=z[W]+m-w-b,O=z[W]+y-w,P=de(G?Math.min(i,x):i,o,G?Math.max(a,O):a),z[W]=P,Z[W]=P-o),A&&(E="x"===W?ne:ie,S="x"===W?re:oe,j=de((T=z[U])+H[E],T,T-H[S]),z[U]=j,Z[U]=j-T),M.modifiersData[k]=Z)},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r,o,i,a,u,s,c,l,f,p,d,h,v=e.state,m=e.name,y=v.elements.arrow,g=v.modifiersData.popperOffsets,b=ue(v.placement),w=ce(b),x=0<=[ie,oe].indexOf(b)?"height":"width";y&&g&&(n=v.modifiersData[m+"#persistent"].padding,r=ee(y),o="y"===w?ne:ie,i="y"===w?re:oe,a=v.rects.reference[x]+v.rects.reference[w]-g[w]-v.rects.popper[x],u=g[w]-v.rects.reference[w],c=(s=te(y))?"y"===w?s.clientHeight||0:s.clientWidth||0:0,l=a/2-u/2,f=n[o],p=c-r[x]-n[i],h=de(f,d=c/2-r[x]/2+l,p),v.modifiersData[m]=((t={})[w]=h,t.centerOffset=h-d,t))},effect:function(e){var t=e.state,n=e.options,r=e.name,o=n.element,i=void 0===o?"[data-popper-arrow]":o,a=n.padding,u=void 0===a?0:a;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||("production"!==D.env.NODE_ENV&&(x(i)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" "))),h(t.elements.popper,i)?(t.elements.arrow=i,t.modifiersData[r+"#persistent"]={padding:U("number"!=typeof u?u:z(u,N))}):"production"!==D.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "))))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=fe(t,{elementContext:"reference"}),u=fe(t,{altBoundary:!0}),s=y(a,r),c=y(u,o,i),l=g(s),f=g(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}],a=e({defaultModifiers:i});u.createPopper=a,u.defaultModifiers=i,u.detectOverflow=fe,u.popperGenerator=e}).call(this,e("_process"))},{_process:24}],22:[function(e,t,n){!function(){"use strict";var t="ontouchstart"in document;"maxTouchPoints"in Navigator.prototype||Object.defineProperty(Navigator.prototype,"maxTouchPoints",{value:"maxTouchPoints"in navigator?navigator.maxTouchPoints:"msMaxTouchPoints"in navigator?navigator.msMaxTouchPoints:t?1:0,enumerable:!0});function u(e){switch(e){case"gotpointercapture":case"lostpointercapture":case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":case"pointerenter":case"pointerleave":case"pointerout":case"pointerover":return 1;default:return}}var n,e=["pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"].every(function(e){return"on"+e in window});e||(n=EventTarget.prototype.dispatchEvent,EventTarget.prototype.dispatchEvent=function(e){var t;return!u(e.type)||null!=(t=this["on"+e.type])&&t(e),n.call(this,e)});var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var h={pointerId:0,width:1,height:1,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:"",isPrimary:!1},v={writable:!1,configurable:!0,enumerable:!0};function o(e,t){return d({value:null!=t?t:h[e]},v)}var i=new Set,f=(r.prototype.deepPath=function(){return[]},r.prototype.composedPath=function(){return[]},r.prototype.getModifierState=function(e){return!1},r.prototype.initEvent=function(e,t,n){},r.prototype.initMouseEvent=function(e,t,n,r,o,i,a,u,s,c,l,f,p,d,h){},r.prototype.initUIEvent=function(e,t,n,r,o){},r.prototype.preventDefault=function(){},r.prototype.stopImmediatePropagation=function(){},r.prototype.stopPropagation=function(){},r);function r(e,t){void 0===t&&(t={});var n={pointerId:o("pointerId",t.pointerId),width:o("width",t.width),height:o("height",t.height),pressure:o("pressure",t.pressure),tangentialPressure:o("tangentialPressure",t.tangentialPressure),tiltX:o("tiltX",t.tiltX),tiltY:o("tiltY",t.tiltY),twist:o("twist",t.twist),pointerType:o("pointerType",t.pointerType),isPrimary:o("isPrimary",t.isPrimary)},r=new MouseEvent(e,t);return Object.defineProperties(r,n),i.add(n.pointerId.value),r}function s(e){if(t)switch(e){case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"pointercancel":return"touchcancel";case"pointerout":case"pointerleave":case"pointerenter":case"pointerover":case"lostpointercapture":case"gotpointercapture":return null}else switch(e){case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"pointercancel":return null;case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerenter":return"mouseenter";case"pointerover":return"mouseover";case"lostpointercapture":case"gotpointercapture":return null}throw new TypeError("Event of type: '"+e+"' could not be handled!")}function y(e){return null!=e&&"offsetLeft"in e}function m(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}var g=new Map;function b(e,t){return"pointerup"===e?0:"force"in t?t.force:"webkitForce"in t?t.webkitForce:h.pressure}function w(e,t,n,r){var o=g.get(e);return void 0!==o?o:"pointermove"===t&&y(n.target)&&y(n.currentTarget)?function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=m(t);if(n===t)return document;t=n}return document}(n.currentTarget).elementFromPoint(r.clientX,r.clientY):n.target}function c(e){for(var t=[],n=e;null!=n&&(t.push(n),n=m(n),t[t.length-1]!==n););return t}function x(e,t,n,r){Object.defineProperties(e,d({},void 0===t?{}:{target:d({value:t},v)},void 0===n?{}:{currentTarget:d({value:n},v)},void 0===r?{}:{relatedTarget:d({value:r},v)}))}var l=h.pointerId+1,a=l+1;function O(e){return e.identifier+a}function P(e,t){switch(e){case"pointerover":case"pointerdown":case"pointermove":case"pointerup":return!0;default:return t.cancelable}}function E(e,t){switch(e){case"pointerover":case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":case"pointerout":case"gotpointercapture":case"lostpointercapture":return!0;default:return t.bubbles}}var S=new Set(["cancelBubble","currentTarget","defaultPrevented","eventPhase","returnValue","scoped","srcElement","timeStamp","deepPath","AT_TARGET","BUBBLING_PHASE","CAPTURING_PHASE","NONE"]),T=new Set(function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(S,["view"],"sourceCapabilities"in UIEvent.prototype?["sourceCapabilities"]:[]));function j(e){var t=e.dynamicPropertiesHandler,n=e.e,r=e.initOptions,o=e.overwrittenMouseEventProperties,i=e.type,a=new f(i,r),u=a.preventDefault,s=a.stopPropagation,c=a.stopImmediatePropagation;a.preventDefault=function(){u.call(this),n.defaultPrevented||n.preventDefault()},a.stopPropagation=function(){s.call(this),n.stopPropagation()},a.stopImmediatePropagation=function(){c.call(this),n.stopImmediatePropagation()};var l={};return T.forEach(function(e){return l[e]=d({value:n[e]},v)}),l=d({},l,o,t()),Object.defineProperties(a,l),a}var M=new Set;function _(e){var t=e.type,n=e.pointerId;switch(t){case"pointercancel":M.add(n);break;case"pointerdown":case"pointerup":M.delete(n)}}function k(e,t){"function"==typeof t?t(e):t.handleEvent(e)}var I="touchAction",R="touch-action",L=new RegExp(R+":\\s*([^;]*)");var A="___touchAction___",C=5,D=["pointercancel","pointerleave","pointerup","pointerout"],Y=new Map;function N(e,t,n,r){switch(t){case"pointerdown":case"pointermove":case"pointerup":case"pointerover":case"pointerenter":case"gotpointercapture":case"lostpointercapture":return o=e,i=t,u=r,s=(a=n).clientX-(y(a.target)?a.target.offsetLeft:0),c=a.clientY-(y(a.target)?a.target.offsetTop:0),l="offsetParent"in a.target?a.target:null,f=null==l?s:a.clientX-l.offsetLeft,p=null==l?c:a.clientY-l.offsetTop,{target:d({value:w(o,i,u,a)},v),relatedTarget:d({value:null},v),button:d({value:"gotpointercapture"===i?-1:0},v),buttons:d({value:"pointerup"===i||"lostpointercapture"===i?0:1},v),clientX:d({value:a.clientX},v),clientY:d({value:a.clientY},v),screenX:d({value:a.screenX},v),screenY:d({value:a.screenY},v),pageX:d({value:a.pageX},v),pageY:d({value:a.pageY},v),x:d({value:a.clientX},v),y:d({value:a.clientY},v),offsetX:d({value:s},v),offsetY:d({value:c},v),layerX:d({value:f},v),layerY:d({value:p},v),movementX:d({value:0},v),movementY:d({value:0},v),width:d({value:function(e){return"radiusX"in e?2*e.radiusX:"webkitRadiusX"in e?2*e.webkitRadiusX:h.width}(a)},v),height:d({value:function(e){return"radiusY"in e?2*e.radiusY:"webkitRadiusY"in e?2*e.webkitRadiusY:h.height}(a)},v),pressure:d({value:b(i,a)},v),tangentialPressure:d({value:h.tangentialPressure},v),tiltX:d({value:h.tiltX},v),tiltY:d({value:h.tiltY},v),twist:d({value:function(e){return"rotationAngle"in e?e.rotationAngle:"webkitRotationAngle"in e?e.webkitRotationAngle:h.twist}(a)},v)};case"pointercancel":case"pointerout":case"pointerleave":return{target:d({value:w(e,t,r,n)},v),relatedTarget:d({value:null},v),button:d({value:0},v),buttons:d({value:0},v),clientX:d({value:0},v),clientY:d({value:0},v),width:d({value:h.width},v),height:d({value:h.height},v),pressure:d({value:h.pressure},v),tangentialPressure:d({value:h.tangentialPressure},v),tiltX:d({value:h.tiltX},v),tiltY:d({value:h.tiltY},v),twist:d({value:h.twist},v),layerX:d({value:0},v),layerY:d({value:0},v),movementX:d({value:0},v),movementY:d({value:0},v),offsetX:d({value:0},v),offsetY:d({value:0},v),pageX:d({value:0},v),pageY:d({value:0},v),screenX:d({value:0},v),screenY:d({value:0},v),x:d({value:0},v),y:d({value:0},v)};default:throw new TypeError("Error: Could not handle dynamic properties for a PointerEvent of type: '"+t+"'")}var o,i,a,u,s,c,l,f,p}function X(e,t,v,n){switch(e){case"pointermove":if(y(v.target)&&y(v.currentTarget)){var m=v[A];if("auto"!==m){n.forEach(function(e){var t=e.pointerId,n=e.clientX,r=e.clientY;if(v.cancelable&&!v.defaultPrevented){var o=Y.get(t);if(null==o)return;var i=n-o.clientX,a=Math.abs(i),u=r-o.clientY,s=Math.abs(u),c=C<a&&s<a,l=C<s&&a<s,f=0<u,p=u<0,d=0<i,h=i<0;"none"===m?(c||l)&&v.preventDefault():"pan-y"===m?c&&v.preventDefault():"pan-y pan-left"===m?h&&v.preventDefault():"pan-y pan-right"===m?d&&v.preventDefault():"pan-up"===m?f||v.preventDefault():"pan-down"===m?p||v.preventDefault():"pan-left"===m?d||v.preventDefault():"pan-right"===m?h||v.preventDefault():"pan-x"===m?l&&v.preventDefault():"pan-x pan-up"===m?p&&v.preventDefault():"pan-x pan-down"===m&&f&&v.preventDefault()}});break}if(v.target!==v.currentTarget){if(Array.from(v.changedTouches).some(function(e){return g.has(O(e))}))break;H("pointercancel",v,t)}}break;case"pointerdown":H("pointerover",v,t),H("pointerenter",v,t)}}function G(e,t,n){var r,o,i,a,u,s,c=n.target,l=n.currentTarget;switch("pointerup"!==e&&"pointercancel"!==e||Array.from(n.changedTouches).forEach(function(e){var t=O(e),n=g.get(t);null!=n&&y(n)&&n.releasePointerCapture(t)}),e){case"pointerdown":y(n.currentTarget)&&(r=function(){},o=function(){t.removeEventListener("pointermove",r),null!=D&&D.forEach(function(e){t.removeEventListener(e,o)})},t.addEventListener("pointermove",r),i=function(e){for(var t,n,r,o=[],i=e;null!=i;){"style"in i&&(n=(t=getComputedStyle(i).getPropertyValue("overflow")).startsWith("visible")||t.startsWith("scroll"),r=t.endsWith("visible")||t.endsWith("scroll"),(n||r)&&o.push({canScrollX:n,canScrollY:r,scrollElement:i}));var a=m(i);if(a===i)break;i=a}return o}(n.currentTarget),a=!1,u=function(){null!=i&&(i.forEach(function(e){return e.scrollElement.removeEventListener("scroll",s)}),i=null),null!=D&&D.forEach(function(e){t.removeEventListener(e,u)})},s=function(){a||(a=!0,x(n,c,l),H("pointercancel",n,t)),u()},i.forEach(function(e){return e.scrollElement.addEventListener("scroll",s)}),D.forEach(function(e){t.addEventListener(e,u),t.addEventListener(e,o)}));break;case"pointercancel":H("pointerout",n,t),H("pointerleave",n,t)}}function q(e,t){var n,r,o,i,a,u,s,c,l,f;y(t.currentTarget)&&(r=(n=function(e){for(var t=[],n=e;null!=n;){var r,o,i,a=null;"style"in n&&(null!=(a=n.style[I])&&""!==a||(null==(r=n.getAttribute("style"))||!r.includes(R)||null!=(o=r.match(L))&&(a=p(o,2)[1])),null!=a&&""!==a||null!=(i=e.getAttribute("touch-action"))&&""!==i&&(a=i),null!=a&&t.push({element:n,touchAction:new Set(a.split(/\s/).map(function(e){return e.trim()}))}));var u=m(n);if(u===n)break;n=u}return t}(t.currentTarget)).some(function(e){return e.touchAction.has("none")}),o=n.some(function(e){return e.touchAction.has("pan-x")}),i=n.some(function(e){return e.touchAction.has("pan-y")}),a=n.some(function(e){return e.touchAction.has("pan-up")}),u=n.some(function(e){return e.touchAction.has("pan-down")}),s=n.some(function(e){return e.touchAction.has("pan-left")}),c=n.some(function(e){return e.touchAction.has("pan-right")}),f=r||i||a&&u,(l=r||o||s&&c)&&f?Object.defineProperty(t,A,{value:"none"}):l?a?Object.defineProperty(t,A,{value:"pan-x pan-up"}):u?Object.defineProperty(t,A,{value:"pan-x pan-down"}):Object.defineProperty(t,A,{value:"pan-x"}):f?s?Object.defineProperty(t,A,{value:"pan-y pan-left"}):c?Object.defineProperty(t,A,{value:"pan-y pan-right"}):Object.defineProperty(t,A,{value:"pan-y"}):a?s?Object.defineProperty(t,A,{value:"pan-up pan-left"}):c&&Object.defineProperty(t,A,{value:"pan-up pan-right"}):u?s?Object.defineProperty(t,A,{value:"pan-down pan-left"}):c&&Object.defineProperty(t,A,{value:"pan-down pan-right"}):s?Object.defineProperty(t,A,{value:"pan-left"}):c?Object.defineProperty(t,A,{value:"pan-right"}):a?Object.defineProperty(t,A,{value:"pan-up"}):u?Object.defineProperty(t,A,{value:"pan-down"}):Object.defineProperty(t,A,{value:"auto"}))}function B(i,a){return q(0,a),Array.from(a.changedTouches).map(function(e){var t=O(e),n=d({},a,{pointerId:t,pointerType:"touch",isPrimary:e===a.changedTouches[0],bubbles:E(i,a),cancelable:P(i,a)});if("pointerout"!==i&&"pointerleave"!==i&&M.has(t))return a.cancelable&&!a.defaultPrevented&&a.preventDefault(),_({type:i,pointerId:t}),null;var r=d({scoped:d({value:a.scoped},v),fromElement:d({value:null},v),toElement:d({value:null},v),detail:d({value:0},v),composed:d({value:!0},v),composedPath:d({value:function(){return c(a.target)}},v)},"region"in Touch.prototype?{region:d({value:e.region},v)}:{},"path"in Event.prototype&&y(e.target)?{path:d({value:c(e.target)},v)}:{},"deepPath"in Event.prototype&&y(e.target)?{path:d({value:function(){return c(e.target)}},v)}:{}),o=j({e:a,type:i,initOptions:n,overwrittenMouseEventProperties:r,dynamicPropertiesHandler:function(){return N(t,i,e,a)}});return x(a,o.target,o.currentTarget,o.relatedTarget),"pointerdown"===i&&Y.set(t,o),o}).filter(function(e){return null!=e})}function H(e,t,n){var r=B(e,t);X(e,n,t,r),r.forEach(function(e){_(e),n.dispatchEvent(e)}),G(e,n,t)}function $(e,t,n,r){var o,i,a,u,s;a=e,u=r,s=B(o=t,i=n),X(o,a,i,s),s.forEach(function(e){_(e),k(e,u)}),G(o,a,i)}function V(e,t){var n=g.get(e);return void 0!==n?n:t.target}var F=new Map;function W(e,t){switch(e){case"pointercancel":case"pointerup":null!=t.currentTarget&&F.has(t.currentTarget)&&(F.get(t.currentTarget).dispose(),F.delete(t.currentTarget));var n=g.get(l);null!=n&&y(n)&&n.releasePointerCapture(l);break;case"pointerdown":null==t.currentTarget||F.has(t.currentTarget)||F.set(t.currentTarget,(a=(i=t).target,u=i.currentTarget,r=function(e){var t=y(u)?u.getBoundingClientRect():{left:0,top:0},n=t.left,r=t.top;K("pointerup",i,u,{target:d({value:a},v),currentTarget:d({value:u},v),clientX:d({value:e.clientX},v),clientY:d({value:e.clientY},v),screenX:d({value:e.screenX},v),screenY:d({value:e.screenY},v),layerX:d({value:e.layerX},v),layerY:d({value:e.layerY},v),movementX:d({value:e.movementX},v),movementY:d({value:e.movementY},v),offsetX:d({value:e.clientX-n},v),offsetY:d({value:e.clientY-r},v),pageX:d({value:e.pageX},v),pageY:d({value:e.pageY},v),x:d({value:e.x},v),y:d({value:e.y},v)}),o()},window.addEventListener("mouseup",r),{dispose:o}))}function o(){window.removeEventListener("mouseup",r)}var i,a,u,r}function U(e,t,n){switch(t){case"pointerdown":case"pointermove":case"pointerup":case"pointerover":case"pointerenter":case"gotpointercapture":case"lostpointercapture":return o=t,{target:d({value:V(e,i=n)},v),button:d({value:"pointerover"===o||"gotpointercapture"===o?-1:"lostpointercapture"===o?0:i.button},v),buttons:d({value:"lostpointercapture"===o?0:"gotpointercapture"===o?1:i.buttons},v),clientX:d({value:i.clientX},v),clientY:d({value:i.clientY},v),screenX:d({value:i.screenX},v),screenY:d({value:i.screenY},v),layerX:d({value:i.layerX},v),layerY:d({value:i.layerY},v),movementX:d({value:i.movementX},v),movementY:d({value:i.movementY},v),offsetX:d({value:i.offsetX},v),offsetY:d({value:i.offsetY},v),pageX:d({value:i.pageX},v),pageY:d({value:i.pageY},v),x:d({value:i.x},v),y:d({value:i.y},v),relatedTarget:d({value:null},v),width:d({value:1},v),height:d({value:1},v),pressure:d({value:b(o,i)},v),tangentialPressure:d({value:0},v),tiltX:d({value:0},v),tiltY:d({value:0},v),twist:d({value:0},v)};case"pointerout":case"pointerleave":case"pointercancel":return{target:d({value:V(e,r=n)},v),button:d({value:r.button},v),buttons:d({value:r.buttons},v),clientX:d({value:r.clientX},v),clientY:d({value:r.clientY},v),screenX:d({value:r.screenX},v),screenY:d({value:r.screenY},v),layerX:d({value:r.layerX},v),layerY:d({value:r.layerY},v),movementX:d({value:r.movementX},v),movementY:d({value:r.movementY},v),offsetX:d({value:r.offsetX},v),offsetY:d({value:r.offsetY},v),pageX:d({value:r.pageX},v),pageY:d({value:r.pageY},v),x:d({value:r.x},v),y:d({value:r.y},v),relatedTarget:d({value:r.relatedTarget},v),width:d({value:1},v),height:d({value:1},v),pressure:d({value:b("pointerout",r)},v),tangentialPressure:d({value:0},v),tiltX:d({value:0},v),tiltY:d({value:0},v),twist:d({value:0},v)};default:throw new TypeError("Error: Could not handle dynamic properties for a PointerEvent of type: '"+t+"'")}var r,o,i}function z(e,t){var n=l,r=d({},t,{pointerId:n,pointerType:"mouse",isPrimary:!0,bubbles:E(e,t),cancelable:P(e,t)});if(("pointerout"===e||"pointerleave"===e)&&g.has(n))return t.cancelable&&!t.defaultPrevented&&t.preventDefault(),[];var o=d({scoped:d({value:t.scoped},v),fromElement:d({value:null},v),toElement:d({value:null},v),detail:d({value:0},v),composed:d({value:!0},v),composedPath:d({value:function(){return c(t.target)}},v)},"region"in MouseEvent.prototype?{region:d({value:t.region},v)}:{},"path"in t?{path:d({value:t.path},v)}:{},"deepPath"in Event.prototype&&y(t.target)?{path:d({value:function(){return c(t.target)}},v)}:{}),i=j({e:t,type:e,initOptions:r,overwrittenMouseEventProperties:o,dynamicPropertiesHandler:function(){return U(n,e,t)}});return x(t,i.target,i.currentTarget,i.relatedTarget),[i]}function K(e,t,n,r){z(e,t).forEach(function(e){null!=r&&Object.defineProperties(e,r),_(e),n.dispatchEvent(e)}),W(e,t)}function J(e,t,n,r){var o,i,a;a=r,z(o=t,i=n).forEach(function(e){_(e),k(e,a)}),W(o,i)}var Q=new Map;function Z(e,t){var n=Q.get(e);null==n&&(n=new Set,Q.set(e,n)),n.add(t)}var ee,te,ne="PointerEvent"in window;ne||(ee=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=function(t,n,e){var r,o,i,a=this;if(null==n)return ee(t,n,e);u(t)?(o=function(e){return"changedTouches"in e?$(a,t,e,n):J(0,t,e,n)},i=function(e){e.isTrusted||k(e,n)},null!=(r=s(t))&&(ee.call(this,r,o,e),Z(n,o)),ee.call(this,t,i,e),Z(n,i)):ee.call(this,t,n,e)}),ne||(te=EventTarget.prototype.removeEventListener,EventTarget.prototype.removeEventListener=function(t,e,n){var r=this,o=u(t)?s(t):void 0;if(null==e)return te.call(this,t,null,n),void(null!=o&&te.call(this,o,null,n));var i=Q.get(e);null!=i?(i.forEach(function(e){te.call(r,t,e,n),null!=o&&te.call(r,o,e,n)}),Q.delete(e)):(te.call(this,t,e,n),null!=o&&te.call(this,o,e,n))}),e||(EventTarget.prototype.ongotpointercapture=null,EventTarget.prototype.onlostpointercapture=null,EventTarget.prototype.onpointerdown=null,EventTarget.prototype.onpointermove=null,EventTarget.prototype.onpointerup=null,EventTarget.prototype.onpointercancel=null,EventTarget.prototype.onpointerover=null,EventTarget.prototype.onpointerout=null,EventTarget.prototype.onpointerenter=null,EventTarget.prototype.onpointerleave=null);function re(){oe=null!=document.pointerLockElement&&null!=document.mozPointerLockElement}var oe=!1;function ie(t,n){var r;try{r=new DOMException(t,n)}catch(e){r=new Error(n+": "+t),null!=n&&(r.name=n)}throw r}document.addEventListener("pointerlockchange",re),document.addEventListener("mozpointerlockchange",re),ne||(Element.prototype.setPointerCapture=function(e){i.has(e)||ie("Could not set pointer capture on an element: No active pointers exist with the given pointer id: '"+e+"'","InvalidPointerId"),this.isConnected||ie("Could not set pointer capture on an element: It wasn't connected!","InvalidStateError"),oe&&ie("Could not set pointer capture on an element: The document had a PointerLock!","InvalidStateError"),g.set(e,this),t?H("gotpointercapture",new TouchEvent(""),this):K("gotpointercapture",new MouseEvent(""),this)}),ne||(Element.prototype.releasePointerCapture=function(e){i.has(e)||ie("Could not release pointer capture on an element: No active pointers exist with the given pointer id: '"+e+"'","InvalidPointerId"),g.delete(e),t?H("lostpointercapture",new TouchEvent(""),this):K("lostpointercapture",new MouseEvent(""),this)}),ne||(Element.prototype.hasPointerCapture=function(e){return null!=g.get(e)}),ne||(window.PointerEvent=f)}()},{}],23:[function(e,t,n){var s=Object.create||function(e){function t(){}return t.prototype=e,new t},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=s(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var o,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),o=0===c.x}catch(e){o=!1}function l(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var o,i,a,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),i=o[t]):(o=e._events=s(null),e._eventsCount=0),i?("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),i.warned||(u=l(e))&&0<u&&i.length>u&&(i.warned=!0,(a=new Error("Possible EventEmitter memory leak detected. "+i.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message))):(i=o[t]=n,++e._eventsCount),e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(p,r);return o.listener=n,r.wrapFn=o}function h(e,t,n){var r=e._events;if(!r)return[];var o=r[t];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length):[]}function v(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}o?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):r.defaultMaxListeners=u,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(e,t,n,r){var o,i,a,u,s="error"===e,c=this._events;if(c)s=s&&null==c.error;else if(!s)return!1;if(s){if(1<arguments.length&&(o=t),o instanceof Error)throw o;var l=new Error('Unhandled "error" event. ('+o+")");throw l.context=o,l}if(!(i=c[e]))return!1;var f,p="function"==typeof i;switch(f=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,o=m(e,r),i=0;i<r;++i)o[i].call(n)}(i,p,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=m(e,o),a=0;a<o;++a)i[a].call(n,r)}(i,p,this,t);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,a=m(e,i),u=0;u<i;++u)a[u].call(n,r,o)}(i,p,this,t,n);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var a=e.length,u=m(e,a),s=0;s<a;++s)u[s].call(n,r,o,i)}(i,p,this,t,n,r);break;default:for(a=new Array(f-1),u=1;u<f;u++)a[u-1]=arguments[u];!function(e,t,n,r){if(t)e.apply(n,r);else for(var o=e.length,i=m(e,o),a=0;a<o;++a)i[a].apply(n,r)}(i,p,this,a)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return f(this,e,t,!1)},r.prototype.prependListener=function(e,t){return f(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,d(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,d(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=s(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=s(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=s(null):delete n[e]),this;if(0===arguments.length){for(var r,o=a(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=s(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(i=t.length-1;0<=i;i--)this.removeListener(e,t[i]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},r.prototype.listenerCount=v,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],24:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var c,l=[],f=!1,p=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=s(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new v(e,t)),1!==l.length||f||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[17]);
//# sourceMappingURL=bundle.min.js.map
