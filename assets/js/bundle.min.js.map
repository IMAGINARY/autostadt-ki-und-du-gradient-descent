{"version":3,"file":"bundle.min.js","sources":["bundle.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _gameMode = _interopRequireDefault(require(\"./game-mode\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar PlayMode = /*#__PURE__*/function (_GameMode) {\n  _inherits(PlayMode, _GameMode);\n\n  var _super = _createSuper(PlayMode);\n\n  function PlayMode() {\n    _classCallCheck(this, PlayMode);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PlayMode, [{\n    key: \"handleEnterMode\",\n    value: function () {\n      var _handleEnterMode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function handleEnterMode() {\n        return _handleEnterMode.apply(this, arguments);\n      }\n\n      return handleEnterMode;\n    }()\n  }, {\n    key: \"handleExitMode\",\n    value: function () {\n      var _handleExitMode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function handleExitMode() {\n        return _handleExitMode.apply(this, arguments);\n      }\n\n      return handleExitMode;\n    }()\n  }, {\n    key: \"handleInput\",\n    value: function handleInput() {// Move the boats or check if they're lowering the probe\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ts) {// Draw sea\n      // Draw boats\n      // Draw bottom\n      // etc...\n    }\n  }]);\n\n  return PlayMode;\n}(_gameMode[\"default\"]);\n\nexports[\"default\"] = PlayMode;\n\n},{\"./game-mode\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Abstract class for GameMode\n *\n * A GameMode does the actual handling of the input and drawing\n */\nvar GameMode = /*#__PURE__*/function () {\n  function GameMode(game) {\n    _classCallCheck(this, GameMode);\n\n    this.game = game;\n  }\n  /**\n   * Preload any external assets that will be needed during the game\n   *\n   * This method runs during game initialization.\n   * @return {Promise<void>}\n   */\n\n\n  _createClass(GameMode, [{\n    key: \"preLoadAssets\",\n    value: function () {\n      var _preLoadAssets = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function preLoadAssets() {\n        return _preLoadAssets.apply(this, arguments);\n      }\n\n      return preLoadAssets;\n    }()\n    /**\n     * Called by the game when the mode is entered.\n     *\n     * Can be used to add DOM elements, event handlers and initialize\n     * internal state. Anything done here must be cleaned up in\n     * handleExitMode.\n     */\n\n  }, {\n    key: \"handleEnterMode\",\n    value: function () {\n      var _handleEnterMode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function handleEnterMode() {\n        return _handleEnterMode.apply(this, arguments);\n      }\n\n      return handleEnterMode;\n    }()\n    /**\n     * Called by the game when the mode is going to be exited\n     *\n     * Should be used to remove DOM elements, event handlers\n     * or anything else that was created on handleEnterMode.\n     */\n\n  }, {\n    key: \"handleExitMode\",\n    value: function () {\n      var _handleExitMode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function handleExitMode() {\n        return _handleExitMode.apply(this, arguments);\n      }\n\n      return handleExitMode;\n    }()\n    /**\n     * Called once per frame so the mode can handle controller input\n     */\n\n  }, {\n    key: \"handleInput\",\n    value: function handleInput() {}\n    /**\n     * Called once per frame so the mode can draw based on the game's state\n     */\n\n  }, {\n    key: \"draw\",\n    value: function draw(ts) {}\n  }]);\n\n  return GameMode;\n}();\n\nexports[\"default\"] = GameMode;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _gameModePlay = _interopRequireDefault(require(\"./game-mode-play\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * The main application\n *\n * This class creates the main UI elements and runs the\n * main game loop (read input, draw).\n *\n * The game can be in one of various modes (see GameMode)\n * which decides how to draw and process input.\n */\nvar GradientDescentGame = /*#__PURE__*/function () {\n  function GradientDescentGame(container, config) {\n    _classCallCheck(this, GradientDescentGame);\n\n    this.container = container;\n    this.config = config;\n    this.input = [{\n      direction: 0,\n      button: false\n    }, {\n      direction: 0,\n      button: false\n    }];\n    this.isPaused = false;\n    this.modes = {};\n    this.currentMode = null;\n  }\n  /**\n   * Initializes the app and downloads any external assets\n   *\n   * @return {Promise<void>}\n   */\n\n\n  _createClass(GradientDescentGame, [{\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.svg = SVG().addTo(this.container);\n                this.registerMode('play', new _gameModePlay[\"default\"](this));\n                this.setMode('play');\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n    /**\n     * Game loop\n     */\n\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this = this;\n\n      var gameLoop = function gameLoop(ts) {\n        if (!_this.isPaused) {\n          // To do: Read input from virtual and real gamepads\n          _this.currentMode.handleInput();\n\n          _this.currentMode.draw(ts);\n\n          window.requestAnimationFrame(gameLoop);\n        }\n      };\n\n      window.requestAnimationFrame(gameLoop);\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.isPaused = true;\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this.isPaused = false;\n      this.run();\n    }\n  }, {\n    key: \"registerMode\",\n    value: function registerMode(id, mode) {\n      this.modes[id] = mode;\n    }\n  }, {\n    key: \"setMode\",\n    value: function () {\n      var _setMode = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(modeID) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.pause();\n\n                if (!this.currentMode) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                _context2.next = 4;\n                return this.currentMode.handleExitMode();\n\n              case 4:\n                if (!(this.modes[modeID] === undefined)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                throw new Error(\"Can't change to unknown mode \".concat(modeID));\n\n              case 6:\n                this.currentMode = this.modes[modeID];\n                _context2.next = 9;\n                return this.currentMode.handleEnterMode();\n\n              case 9:\n                this.resume();\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setMode(_x) {\n        return _setMode.apply(this, arguments);\n      }\n\n      return setMode;\n    }()\n  }]);\n\n  return GradientDescentGame;\n}();\n\nexports[\"default\"] = GradientDescentGame;\n\n},{\"./game-mode-play\":1}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _game = _interopRequireDefault(require(\"./game\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar defaultConfig = {\n  defaultLanguage: 'en'\n};\n/**\n * Loads the config file from an external JSON file\n *\n * @param {string} uri\n * @return {Promise<any>}\n */\n\nfunction loadConfig(_x) {\n  return _loadConfig.apply(this, arguments);\n}\n/**\n * Load config files and start the program\n */\n\n\nfunction _loadConfig() {\n  _loadConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(uri) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(uri);\n\n          case 2:\n            response = _context2.sent;\n\n            if (!(response.status >= 200 && response.status < 300)) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.prev = 4;\n            _context2.next = 7;\n            return response.json();\n\n          case 7:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](4);\n            throw new Error(\"Error parsing config file: \".concat(_context2.t0.message));\n\n          case 13:\n            throw new Error(\"Server returned status \".concat(response.status, \" (\").concat(response.statusText, \") loading config file.\"));\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[4, 10]]);\n  }));\n  return _loadConfig.apply(this, arguments);\n}\n\n(function () {\n  var _main = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, game;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.t0 = Object;\n            _context.t1 = {};\n            _context.t2 = defaultConfig;\n            _context.next = 6;\n            return loadConfig('./config.json');\n\n          case 6:\n            _context.t3 = _context.sent;\n            config = _context.t0.assign.call(_context.t0, _context.t1, _context.t2, _context.t3);\n            _context.next = 10;\n            return IMAGINARY.i18n.init({\n              queryStringVariable: 'lang',\n              translationsDirectory: 'tr',\n              defaultLanguage: config.defaultLanguage || 'en'\n            });\n\n          case 10:\n            // eslint-disable-next-line no-unused-vars\n            game = new _game[\"default\"](document.querySelector('.main'), config);\n            _context.next = 13;\n            return game.init();\n\n          case 13:\n            game.run();\n            _context.next = 19;\n            break;\n\n          case 16:\n            _context.prev = 16;\n            _context.t4 = _context[\"catch\"](0);\n            // eslint-disable-next-line no-console\n            console.error(_context.t4);\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 16]]);\n  }));\n\n  function main() {\n    return _main.apply(this, arguments);\n  }\n\n  return main;\n})()();\n\n},{\"./game\":3}]},{},[4]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Object","defineProperty","value","obj","_gameMode","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","result","Super","_getPrototypeOf","Reflect","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","NewTarget","ReferenceError","_assertThisInitialized","getPrototypeOf","PlayMode","subClass","superClass","TypeError","create","_inherits","Constructor","protoProps","staticProps","_handleExitMode","_handleEnterMode","_super","instance","_classCallCheck","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","_callee2","_context2","./game-mode","2","GameMode","game","_preLoadAssets","_callee3","_context3","3","_gameModePlay","GradientDescentGame","container","config","input","direction","button","isPaused","modes","currentMode","_setMode","_init","svg","SVG","addTo","registerMode","setMode","_this","window","requestAnimationFrame","gameLoop","ts","handleInput","draw","run","id","mode","modeID","pause","handleExitMode","concat","handleEnterMode","resume","_x","./game-mode-play","4","_game","_main","defaultConfig","defaultLanguage","loadConfig","_loadConfig","uri","response","fetch","sent","status","json","abrupt","t0","message","statusText","t1","t2","t3","assign","IMAGINARY","i18n","init","queryStringVariable","translationsDirectory","document","querySelector","t4","console","./game"],"mappings":"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"}